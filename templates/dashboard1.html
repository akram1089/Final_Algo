{% extends "base_dashboard.html" %}
{% load static %}
{% block dashboard_body %}
<style>
  .traded_icons {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .middle_nifty {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .high_low_nifty {
    display: flex;
    gap: 2rem;
    align-items: center;

  }

  #market_top {
    text-decoration: none;
    font-size: 12px;
    padding: 4px;
    transition: 0.3s;
    position: relative;
  }

  #market_top:hover {
    background-color: dodgerblue;
    color: white;
    border-radius: 10px;

  }

  #market_top::after {
    content: " ";
    position: absolute;
    border-left: 1px #6c757d solid;
    top: 35%;
    right: 0;
    height: 30%;
    margin-top: auto;
    margin-bottom: auto;
  }

  .nifty_main {
    width: 23rem;
    height: 10rem;
    outline-color: gray;
    border-radius: 10px;
    padding: 11px;

  }

  .nitfy_fin_bank_main {
    gap: 2rem;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;


  }

  .text-success,
  .border-success {
    color: rgb(6, 197, 98) !important;
  }

  child_global {
    row-gap: 1rem;
    display: flex;
    flex-direction: column;
  }

  i.bi.bi-arrow-clockwise {
    all: unset;
    font-size: 13px;
    margin-top: 5px;
    transition: 0.3s;
  }

  i.bi.bi-arrow-clockwise:hover {
    all: unset
  }

  #refresh_global:hover {
    background-color: dodgerblue;
    color: white;
    border-radius: 10px;
    padding: 4px;
    cursor: pointer;
  }

  .desc_usage_active {
    color: #011490;
    text-align: center;
    border-bottom: 2px solid #011490;
    font-size: 21px;
    font-weight: 600;
  }

  .chart-header:hover {
    cursor: pointer;
  }

  .bi-graph-up {
    border: 0.5px solid gray;
    padding: 7px;
    height: 28px;
    width: 28px;
    border-radius: 7px;
    transition: 0.3s;
  }

  .bi-graph-up:hover {
    background-color: dodgerblue;
    color: white;
    border: none;
  }

  @media screen and (max-width: 760px) {

    .main_ban {
      flex-wrap: wrap;
    }
  }

  .ban_security,
  .ban_entry,
  .ban_exits {
    width: 22rem;
  }
</style>
<style>
  #OI_gainer,
  #OI_loser,
  #OI_volume_buzzers,
  #OI_volume_1,
  #OI_volume_2 {
    cursor: pointer;
    text-align: center;
    transition: 0.3s;
    font-size: 21px;

  }

  .future_active {
    color: #011490;
    text-align: center;
    border-bottom: 2px solid #011490;
    font-size: 21px;
    font-weight: 600;
  }
</style>
<style>
  .dropstart .dropdown-toggle::before {
    display: none !important;
    margin-right: 0.255em;
    vertical-align: 0.255em;
    content: "";
    border-top: 0.3em solid transparent;
    border-right: 0.3em solid;
    border-bottom: 0.3em solid transparent;
}
.market_action:hover #maket_action_dropdown{
display: block;
    right: 1;

}
#market_fav_bell:hover{
  color: rgb(0, 191, 255);
  cursor: pointer;
 
}

  .filter_ipo_active {
    color: #011490;
    text-align: center;
    border-bottom: 2px solid #011490;
    font-size: 21px;
    font-weight: 600;
  }

  .col-4 {
    text-align: center;
    transition: 0.3s;
    cursor: pointer;
  }

  @media (max-width: 768px) {
    .head_image {
      width: fit-content !important;
    }

  }

  .equity_sme {
    cursor: pointer;
  }

  .filter_child_active {
    color: #011490;
    text-align: center;
    border-bottom: 2px solid #011490;
    font-size: 21px;
    font-weight: 600;
  }

  .dataTables_length,
  .dataTables_filter {
    margin: 9px 0 9px 0;

  }

  /* .sorting{
    display: none !important;
  } */
  thead {
    border-color: #8080803b !important;
    border-style: solid;
    border-width: 0;
  }

  table.dataTable.no-footer {
    border-bottom: 1px solid #11111112 !important;
  }

  .sorting::after,
  .sorting::before {
    display: none !important;
  }
</style>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  $(document).ready(function () {
    $(document)
      .ajaxStart(function () {
        $("#spinner").show();
      })
      .ajaxStop(function () {
        $("#spinner").hide();
      });
    function updateData() {
      $.ajax({
        url: '/base_dashboard1',
        type: 'GET',
        success: function (data) {
          console.log("HII");

          $('#nifty_50_symbol').text(data.nifty50_data.symbol_name);
          $('#nifty_50_high').text(data.nifty50_data.high);
          $('#nifty_50_low').text(data.nifty50_data.low);
          $('#nifty_50_trade_value').text(data.nifty50_data.last_trade_price);

          if (data.nifty50_value > 0) {
            $('#nifty_50_value').addClass("text-success");
            $('#nifty_icons').html('<i class="bi bi-arrow-up text-success" style="font-size: 22px;"></i>');
          } else {
            $('#nifty_50_value').addClass("text-danger");
            $('#nifty_icons').html('<i class="bi bi-arrow-down text-danger" style="font-size: 22px;"></i>');
          }

          $('#nifty_50_value').text(`${data.nifty50_value.toFixed(2)} (${data.nifty50_percentage.toFixed(2)})%`);

          // banknifty
          $('#niftybank_symbol').text(data.niftybank_data.symbol_name);
          $('#niftybank_high').text(data.niftybank_data.high);
          $('#niftybank_low').text(data.niftybank_data.low);
          $('#niftybank_trade_value').text(data.niftybank_data.last_trade_price);

          if (data.niftybank_value > 0) {
            $('#niftybank_value').addClass("text-success");
            $('#niftybank_icons').html('<i class="bi bi-arrow-up text-success" style="font-size: 22px;"></i>');
          } else {
            $('#niftybank_value').addClass("text-danger");
            $('#niftybank_icons').html('<i class="bi bi-arrow-down text-danger" style="font-size: 22px;"></i>');
          }

          $('#niftybank_value').text(`${data.niftybank_value.toFixed(2)} (${data.niftybank_percentage.toFixed(2)})%`);

          // finnity
          $('#finnity_symbol').text(data.finnity_data.symbol_name);
          $('#finnity_high').text(data.finnity_data.high);
          $('#finnity_low').text(data.finnity_data.low);
          $('#finnity_trade_value').text(data.finnity_data.last_trade_price);

          if (data.finnity_value > 0) {
            $('#finnity_value').addClass("text-success");
            $('#finnity_icons').html('<i class="bi bi-arrow-up text-success" style="font-size: 22px;"></i>');
          } else {
            $('#finnity_value').addClass("text-danger");
            $('#finnity_icons').html('<i class="bi bi-arrow-down text-danger" style="font-size: 22px;"></i>');
          }

          $('#finnity_value').text(`${data.finnity_value.toFixed(2)} (${data.finnity_percentage.toFixed(2)})%`);
        },
        complete: function () {
          // Schedule the next update after 5 seconds

          setTimeout(updateData, 5000);
        }
      });
    }

    // Initial call to start the update loop
    updateData();
  });
</script>
<script>
  $(document).ready(function () {
    function update_global_indicies() {


      $.ajax({
        url: "/global_market",
        dataType: "json",
        success: function (data) {
          for (var i = 0; i < data.tables.length; i++) {
            console.log(data.tables[i].country)
            var countryTable = "";
            countryTable += "<child_global>";
            countryTable += `<div class="country_indices_refresh d-flex  justify-content-between" style="">
                        <h5>${data.tables[i].country}</h5>
                        <div class="d-flex fs-5" id="refresh_global" >
                            <i class="bi bi-arrow-clockwise hello"></i>
                            <p style="margin-bottom:auto;     font-size: 13px;">refresh</p>
                            </div>
                        </div>`;

            for (var j = 0; j < data.tables[i].items.length; j++) {
              var item = data.tables[i].items[j];
              var priceClass = item.change_value > 0 ? "text-success" : "text-danger";
              var borderClass = item.change_value > 0 ? "border-start  border-4 border-success" : " border-start  border-4 border-danger";
              var progress_caret = item.change_value > 0 ? "up" : "down";
              countryTable += `
                        <div class="child_table">
                            
                            <div class="inner_global shadow ${borderClass}" style="width: 20rem; height: 5rem; padding: 12px;">
                                <h5 style="font-size: 1rem;">${item.symbol}</h5>
                                <div class="price_global d-flex justify-content-between">
                                    <h5>${item.current_price}</h5>
                                    <div class="precent_icon_Global d-flex align-items-center ${priceClass}">
                                        <h5>${item.change_value}(${item.change_per})</h5>
                                        <i class="bi bi-caret-${progress_caret}-fill"></i>
                                    </div>
                                </div>
                            </div>
                        </div>`;
            }

            countryTable += "</child_global>";
            $("#tables-container").append(countryTable);
          }
        },
        complete: function () {
          // Schedule the next update after 5 seconds

          setTimeout(updateData, 5000);
        }
      });

    }
    update_global_indicies()
  });
</script>
<script>
  // AJAX call to fetch data for the category and populate the table
  function market_data() {


    $.ajax({
      url: "/market_actions",
      method: "GET",
      success: function (response) {
        console.log(response.tables);

        // top_start
        topgainers = response.tables.filter((x) => {
          return x.category == "topGainers";
        });
        console.log(topgainers);
        var top_gainers = "";
        final_top = topgainers.map((y) => {
          y.data.forEach((z) => {
            var progress_market_color = z.change_value > 0 ? "text-success" : "text-danger";
            var progress_market = z.change_value > 0 ? "up" : "down";
            console.log(z.symbol_name);
            $("#top_gainers_table").append(
              `<tr>
                      <td><i class="bi bi-graph-up"></i></td>
                      <td>${z.symbol_name}</td>
                      <td>${z.prev_high}</td>
                      <td class="text-danger">${z.today_low}</td>
                      <td class="text-success">${z.today_high}</td>
                      <td id="top_down_icon_market"><i class="bi bi-caret-${progress_market}-fill ${progress_market_color}"></i>${z.change_value}(${z.change_percent}%)</td>
                      <td>${z.prev_close}</td>
                      <td>

                        ${z.today_volume}
                       
                       </td>
                       <td>
                        <div class="market_action dropstart">
                          <div  class=" dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-three-dots-vertical"></i>
                          </div>
                          <ul class="dropdown-menu" id="maket_action_dropdown">
                            <li id="market_fav_bell" class="d-flex" style="font-size: 12px;gap: 0.2rem;font-weight: 600;align-items: baseline;justify-content: center;">
                                <i class="bi bi-star fw-3"></i>
                                <div> Add To Watchlist</div>
                                </li>
                                <hr style="margin: 0.5rem 0;">
                            <li id="market_fav_bell" class="d-flex" style="font-size: 12px;gap: 0.2rem;font-weight: 600;align-items: baseline;justify-content: center;">
                              <i class="bi bi-bell"></i>
                                <div>Create Alert</div>
                                </li>
                          </ul>
                        </div>
                   
                       </td>
                  </tr>`
            );
          });
        });
        //end_top_start

        // top_loser_start
        topLosers = response.tables.filter((loser_1) => {
          return loser_1.category == "topLosers";
        });
        console.log(topLosers);
        var top_gainers = "";
        final_top = topLosers.map((loser_2) => {
          loser_2.data.forEach((loser_3) => {
            var progress_market_color = loser_3.change_value > 0 ? "text-success" : "text-danger";
            var progress_market = loser_3.change_value > 0 ? "up" : "down";
            console.log(loser_3.symbol_name);
            $("#top_losers_table").append(
              `<tr>
                      <td><i class="bi bi-graph-up"></i></td>
                      <td>${loser_3.symbol_name}</td>
                      <td>${loser_3.prev_high}</td>
                      <td class="text-danger">${loser_3.today_low}</td>
                      <td class="text-success">${loser_3.today_high}</td>
                      <td><i class="bi bi-caret-${progress_market}-fill ${progress_market_color}"></i>${loser_3.change_value}(${loser_3.change_percent}%)</td>
                      <td>${loser_3.prev_close}</td>
                      <td>${loser_3.today_volume}</td>
                  </tr>`
            );
          });
        });
        //end_top_loser_start
        // top_sameopenandlow_start
        sameOpenAndLow = response.tables.filter((sameOpenAndLow_1) => {
          return sameOpenAndLow_1.category == "sameOpenAndLow";
        });
        console.log(sameOpenAndLow);
        var top_gainers = "";
        final_top = sameOpenAndLow.map((sameOpenAndLow_2) => {
          sameOpenAndLow_2.data.forEach((sameOpenAndLow_3) => {
            var progress_market_color = sameOpenAndLow_3.change_value > 0 ? "text-success" : "text-danger";
            var progress_market = sameOpenAndLow_3.change_value > 0 ? "up" : "down";
            console.log(sameOpenAndLow_3.symbol_name);
            $("#same_open_and_low").append(
              `<tr>
                      <td><i class="bi bi-graph-up"></i></td>
                      <td>${sameOpenAndLow_3.symbol_name}</td>
                      <td>${sameOpenAndLow_3.prev_high}</td>
                      <td class="text-danger">${sameOpenAndLow_3.today_low}</td>
                      <td class="text-success">${sameOpenAndLow_3.today_high}</td>
                      <td><i class="bi bi-caret-${progress_market}-fill ${progress_market_color}"></i>${sameOpenAndLow_3.change_value}(${sameOpenAndLow_3.change_percent}%)</td>
                      <td>${sameOpenAndLow_3.prev_close}</td>
                      <td>${sameOpenAndLow_3.today_volume}</td>
                  </tr>`
            );
          });
        });
        //end_sameopenandlow_start
        // top_sameOpenAndHigh_start
        sameOpenAndHigh = response.tables.filter((sameOpenAndHigh_1) => {
          return sameOpenAndHigh_1.category == "sameOpenAndHigh";
        });
        console.log(sameOpenAndHigh);
        var top_gainers = "";
        final_top = sameOpenAndHigh.map((sameOpenAndHigh_2) => {
          sameOpenAndHigh_2.data.forEach((sameOpenAndHigh_3) => {
            var progress_market_color = sameOpenAndHigh_3.change_value > 0 ? "text-success" : "text-danger";
            var progress_market = sameOpenAndHigh_3.change_value > 0 ? "up" : "down";
            console.log(sameOpenAndHigh_3.symbol_name);
            $("#same_Open_And_High").append(
              `<tr>
                      <td><i class="bi bi-graph-up"></i></td>
                      <td>${sameOpenAndHigh_3.symbol_name}</td>
                      <td>${sameOpenAndHigh_3.prev_high}</td>
                      <td class="text-danger">${sameOpenAndHigh_3.today_low}</td>
                      <td class="text-success">${sameOpenAndHigh_3.today_high}</td>
                      <td><i class="bi bi-caret-${progress_market}-fill ${progress_market_color}"></i>${sameOpenAndHigh_3.change_value}(${sameOpenAndHigh_3.change_percent}%)</td>
                      <td>${sameOpenAndHigh_3.prev_close}</td>
                      <td>${sameOpenAndHigh_3.today_volume}</td>
                  </tr>`
            );
          });
        });
        //end_same_Open_And_High_start
        // top_gapUp_start
        gapUp = response.tables.filter((gapUp_1) => {
          return gapUp_1.category == "gapUp";
        });
        console.log(gapUp);
        var top_gainers = "";
        final_top = gapUp.map((gapUp_2) => {
          gapUp_2.data.forEach((gapUp_3) => {
            var progress_market_color = gapUp_3.change_value > 0 ? "text-success" : "text-danger";
            var progress_market = gapUp_3.change_value > 0 ? "up" : "down";
            console.log(gapUp_3.symbol_name);
            $("#gap_Up").append(
              `<tr>
                      <td><i class="bi bi-graph-up"></i></td>
                      <td>${gapUp_3.symbol_name}</td>
                      <td>${gapUp_3.prev_high}</td>
                      <td class="text-danger">${gapUp_3.today_low}</td>
                      <td class="text-success">${gapUp_3.today_high}</td>
                      <td><i class="bi bi-caret-${progress_market}-fill ${progress_market_color}"></i>${gapUp_3.change_value}(${gapUp_3.change_percent}%)</td>
                      <td>${gapUp_3.prev_close}</td>
                      <td>${gapUp_3.today_volume}</td>
                  </tr>`
            );
          });
        });
        //end_gapUp_start
        // top_gapDown_start
        gapDown = response.tables.filter((gapDown_1) => {
          return gapDown_1.category == "gapDown";
        });
        console.log(gapDown);
        var top_gainers = "";
        final_top = gapDown.map((gapDown_2) => {
          gapDown_2.data.forEach((gapDown_3) => {
            var progress_market_color = gapDown_3.change_value > 0 ? "text-success" : "text-danger";
            var progress_market = gapDown_3.change_value > 0 ? "up" : "down";
            console.log(gapDown_3.symbol_name);
            $("#gap_Down").append(
              `<tr>
                      <td><i class="bi bi-graph-up"></i></td>
                      <td>${gapDown_3.symbol_name}</td>
                      <td>${gapDown_3.prev_high}</td>
                      <td class="text-danger">${gapDown_3.today_low}</td>
                      <td class="text-success">${gapDown_3.today_high}</td>
                      <td><i class="bi bi-caret-${progress_market}-fill ${progress_market_color}"></i>${gapDown_3.change_value}(${gapDown_3.change_percent}%)</td>
                      <td>${gapDown_3.prev_close}</td>
                      <td>${gapDown_3.today_volume}</td>
                  </tr>`
            );
          });
        });
        //end_gapDown_start

      },
      error: function () {
        console.log("Error occurred while fetching data for category: " + category.name);
      },
      complete: function () {
        // Schedule the next update after 5 seconds

        setTimeout(updateData, 5000);
      }
    });
  }
  // Process the categories and create tables
  market_data()
  $(document).ready(function () {
    var categories = JSON.parse(your_json_data).categories;
    $.each(categories, function (index, category) {
      createCategoryTable(category);
    });
  });
</script>

<script>
  $(document).ready(function () {
    $.ajax({
      url: "{% url 'ban_list_dashboard' %}",
      method: "GET",
      success: function (response) {
        console.log(response)
        populateTable(response.securities_ban_result, "#securities_ban_table");
        populateTable(response.possible_entrants_result, "#possible_entrants_table");
        populateTable(response.possible_exits_result, "#possible_exits_table");
      },
      error: function () {
        console.log("Error occurred while fetching data.");
      }
    });

    function populateTable(data, tableId) {
      var tableBody = $(tableId + " tbody");
      tableBody.empty();

      data.forEach(function (item) {
        console.log(item)
        var row = $("<tr></tr>");
        row.append($("<td></td>").text(item.symbol_name));
        row.append($("<td></td>").text(item.previous_percent));
        row.append($("<td></td>").text(item.current_percent));
        // Add more columns as needed

        tableBody.append(row);
      });
    }
  });
</script>
<!-- <script>
          $(document).ready(function() {
              $.ajax({
                  url: '/stock-listing/',
                  type: 'GET',
                  dataType: 'json',
                  success: function(response) {
                      populateTable(response.sme_records, '#sme-table');
                      populateTable(response.equity_records, '#equity-table');
                  }
              });
          });
  
          function populateTable(records, tableId) {
              var tableBody = $(tableId + ' tbody');
              $.each(records, function(index, record) {
                  var row = $('<tr></tr>');
                  row.append('<td>' + record.symbol + '</td>');
                  row.append('<td>' + record.name + '</td>');
                  row.append('<td>' + record.instrument + '</td>');
                  tableBody.append(row);
              });
          }
      </script> -->
<div class="container mt-5">



  <h4 class="my-3">MARKETS</h4>
  <div class="nitfy_fin_bank_main">
    <div class="nifty_main shadow"
      style="box-shadow: rgba(0, 0, 0, 0.02) 0px 1px 3px 0px, rgba(27, 31, 35, 0.15) 0px 0px 0px 1px;">

      <div class="title_nifty  " style="display: flex;gap: 1rem;">
        <h5 style="    font-size: 1rem;" id="nifty_50_symbol"></h5>
        <h5 style="    font-size: 1rem;" class="" id="nifty_50_value"></h5>
      </div>


      <div class="middle_nifty">
        <div class="traded_icons" id="traded_icons">
          <div id="nifty_icons"></div>
          <h4 style="    font-size: 2rem;color: darkslategray;" id="nifty_50_trade_value"></h4>
        </div>
        <div class="high_low_nifty" style="    font-size: 13px;
            font-weight: 700;
            color: darkslategray;">
          <div class="high">
            <p style="margin-bottom: auto;">High</p>
            <p style="margin-bottom: auto;" class="text-success" id="nifty_50_high"></p>
          </div>
          <div class="low">
            <p style="margin-bottom: auto;">Low</p>
            <p style="margin-bottom: auto;" class="text-danger" id="nifty_50_low"></p>
          </div>
        </div>

      </div>
      <hr>

      <div class="bottom_card">
        <a href="{% url 'put_call_ratio' %}" id="market_top">Analytics</a>
        <a href="{% url 'put_call_ratio' %}" id="market_top">Options</a>
        <a href="{% url 'put_call_ratio' %}" id="market_top">PCR</a>
        <a href="Open_interest_analysis" id="market_top">Chain</a>
        <a href="{% url 'put_call_ratio' %}" id="market_top">Max pain</a>
        <a href="{% url 'contributor' %}" id="market_top">Contributors</a>
      </div>
    </div>
    <div class="nifty_main shadow"
      style="box-shadow: rgba(0, 0, 0, 0.02) 0px 1px 3px 0px, rgba(27, 31, 35, 0.15) 0px 0px 0px 1px;">

      <div class="title_nifty  " style="display: flex;gap: 1rem;">
        <h5 style="    font-size: 1rem;" id="niftybank_symbol"></h5>
        <h5 style="    font-size: 1rem;" class="" id="niftybank_value"></h5>
      </div>


      <div class="middle_nifty">
        <div class="traded_icons" id="traded_icons">
          <div id="niftybank_icons"></div>
          <h4 style="    font-size: 2rem;color: darkslategray;" id="niftybank_trade_value"></h4>
        </div>
        <div class="high_low_nifty" style="    font-size: 13px;
            font-weight: 700;
            color: darkslategray;">
          <div class="high">
            <p style="margin-bottom: auto;">High</p>
            <p style="margin-bottom: auto;" class="text-success" id="niftybank_high"></p>
          </div>
          <div class="low">
            <p style="margin-bottom: auto;">Low</p>
            <p style="margin-bottom: auto;" class="text-danger" id="niftybank_low"></p>
          </div>
        </div>

      </div>
      <hr>

      <div class="bottom_card">
        <a href="{% url 'put_call_ratio' %}" id="market_top">Analytics</a>
        <a href="{% url 'put_call_ratio' %}" id="market_top">Options</a>
        <a href="{% url 'put_call_ratio' %}" id="market_top">PCR</a>
        <a href="Open_interest_analysis" id="market_top">Chain</a>
        <a href="{% url 'put_call_ratio' %}" id="market_top">Max pain</a>
        <a  href="{% url 'contributor' %}" id="market_top">Contributors</a>
      </div>
    </div>
    <div class="nifty_main shadow"
      style="box-shadow: rgba(0, 0, 0, 0.02) 0px 1px 3px 0px, rgba(27, 31, 35, 0.15) 0px 0px 0px 1px;">

      <div class="title_nifty  " style="display: flex;gap: 1rem;">
        <h5 style="    font-size: 1rem;" id="finnity_symbol"></h5>
        <h5 style="    font-size: 1rem;" class="" id="finnity_value"></h5>
      </div>


      <div class="middle_nifty">
        <div class="traded_icons" id="traded_icons">
          <div id="finnity_icons"></div>
          <h4 style="    font-size: 2rem;color: darkslategray;" id="finnity_trade_value"></h4>
        </div>
        <div class="high_low_nifty" style="    font-size: 13px;
            font-weight: 700;
            color: darkslategray;">
          <div class="high">
            <p style="margin-bottom: auto;">High</p>
            <p style="margin-bottom: auto;" class="text-success" id="finnity_high"></p>
          </div>
          <div class="low">
            <p style="margin-bottom: auto;">Low</p>
            <p style="margin-bottom: auto;" class="text-danger" id="finnity_low"></p>
          </div>
        </div>

      </div>
      <hr>

      <div class="bottom_card">
        <a href="{% url 'put_call_ratio' %}" id="market_top">Analytics</a>
        <a href="{% url 'put_call_ratio' %}" id="market_top">Options</a>
        <a href="{% url 'put_call_ratio' %}" id="market_top">PCR</a>
        <a href="Open_interest_analysis" id="market_top">Chain</a>
        <a href="{% url 'put_call_ratio' %}" id="market_top">Max pain</a>
        <a  href="{% url 'contributor' %}" id="market_top">Contributors</a>
      </div>
    </div>

  </div>

  <h4 class="my-3">GLOBAL MARKETS</h4>


  <div id="tables-container" class="d-flex"
    style="    row-gap: 1rem;justify-content: space-around;     flex-wrap: wrap;"></div>

    <style>
      *{
          text-decoration: none !important;
      }
      #dashboard_card_stock_market{
          transition: 0.5s;
      }
      #dashboard_card_stock_market:hover{
          scale: 1.1;
          box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
          border: 5px;
      }
    </style>
    <div class="container">
      <div class="row">
          <h1 class="text-center mt-md-4 mt-4 fingertips-heading">Stock Market at your Fingertips!</h1>
          <p class="text-center fingertips-p">Most comprehensive stock market portal in India.</p>
          <div class="col-md-4 col-sm-6 p-3"  id="dashboard_card_stock_market"><a href="">
                  <div class="figuretips-box d-flex align-items-center p-md-3 border-0 text-black d-md-block align-items-center cursor-pointer"
                      title="Advanced Stock Screener">
                      <div><svg width="62" class="me-3" title="Advanced Stock Screener" alt="Advanced Stock Screener"
                              viewBox="0 0 135 135">
                              <defs>
                                  <style>
                                      .advanced-stock-screener-1 {
                                          fill: #ecf5fe;
                                      }
    
                                      .advanced-stock-screener-2 {
                                          fill: #fff;
                                      }
    
                                      .advanced-stock-screener-3 {
                                          fill: #409ffe;
                                      }
    
                                      .advanced-stock-screener-4 {
                                          fill: #111;
                                      }
    
                                      .advanced-stock-screener-5 {
                                          opacity: 0.3;
                                      }
                                  </style>
                              </defs>
                              <g id="Layer_2" data-name="Layer 2">
                                  <g id="Layer_1-2" data-name="Layer 1">
                                      <rect class="advanced-stock-screener-1" width="135" height="135" rx="20"></rect>
                                      <polyline class="advanced-stock-screener-2"
                                          points="98.54 53.83 98.54 103.92 114.71 103.92 114.71 53.79"></polyline>
                                      <rect class="advanced-stock-screener-2" x="73.36" y="60.75" width="16.17"
                                          height="43.16"></rect>
                                      <rect class="advanced-stock-screener-2" x="48.17" y="75.88" width="16.17"
                                          height="28.03"></rect>
                                      <rect class="advanced-stock-screener-2" x="22.98" y="90.6" width="16.17"
                                          height="13.31"></rect>
                                      <rect class="advanced-stock-screener-3" x="84.71" y="59.04" width="6.37"
                                          height="44.87"></rect>
                                      <polygon class="advanced-stock-screener-3"
                                          points="117.4 103.53 112.03 103.53 112.03 55.23 117.4 52.8 117.4 103.53">
                                      </polygon>
                                      <rect class="advanced-stock-screener-3" x="59.31" y="74.33" width="7.09"
                                          height="29.59"></rect>
                                      <rect class="advanced-stock-screener-3" x="34.75" y="89.12" width="6.31"
                                          height="14.79"></rect>
                                      <polygon class="advanced-stock-screener-4"
                                          points="115.21 104.42 98.04 104.42 98.04 53.83 99.04 53.83 99.04 103.42 114.21 103.42 114.21 53.79 115.21 53.79 115.21 104.42">
                                      </polygon>
                                      <path class="advanced-stock-screener-4"
                                          d="M90,104.41H72.86V60.25H90Zm-16.17-1H89V61.25H73.86Z"></path>
                                      <path class="advanced-stock-screener-4"
                                          d="M64.84,104.41H47.67v-29H64.84Zm-16.17-1H63.84v-27H48.67Z"></path>
                                      <path class="advanced-stock-screener-3"
                                          d="M70.22,40.72S57.65,67.7,10,75.88c-2.06.36-3.37,2.62,1.71,1.79,0,0,38.07-2.25,60.47-35.11Z">
                                      </path>
                                      <polygon class="advanced-stock-screener-3"
                                          points="66.32 35.29 77.98 29.96 76.12 42.27 66.32 35.29"></polygon>
                                      <path class="advanced-stock-screener-4"
                                          d="M39.65,104.41H22.48V90.1H39.65Zm-16.17-1H38.65V91.1H23.48Z"></path>
                                      <g class="advanced-stock-screener-5">
                                          <path class="advanced-stock-screener-3"
                                              d="M93.64,28.26A.82.82,0,0,1,95,29l-.51,5.59A4.64,4.64,0,0,0,98.7,39.6l10.53,1a4.64,4.64,0,0,0,5-4.21l.57-6.24a.56.56,0,0,1,1-.3,15.66,15.66,0,0,1,3.8,11.2A15.91,15.91,0,0,1,103,55.77a15.71,15.71,0,0,1-9.33-27.51Z">
                                          </path>
                                      </g>
                                      <path class="advanced-stock-screener-4"
                                          d="M10.63,78.17a.5.5,0,0,1-.49-.45.5.5,0,0,1,.44-.55c.42,0,41.5-4.71,60.48-35.24a.5.5,0,0,1,.68-.16.51.51,0,0,1,.17.69C52.67,73.41,11.11,78.12,10.69,78.17Z">
                                      </path>
                                      <path class="advanced-stock-screener-4"
                                          d="M77.67,46.46a1,1,0,0,1-.6-.2L65,37.59a1,1,0,0,1-.42-.94,1,1,0,0,1,.6-.84l13.55-6.1a1,1,0,0,1,1.44,1L78.69,45.53a1,1,0,0,1-1,.93Zm1.52-15.81L65.6,36.72l12.05,8.73Z">
                                      </path>
                                      <path class="advanced-stock-screener-4"
                                          d="M106.61,56.78A16.21,16.21,0,0,1,96.38,28a.49.49,0,0,1,.53-.06.5.5,0,0,1,.28.45v7.51a4.17,4.17,0,0,0,4.15,4.15h10.57a4.16,4.16,0,0,0,4.15-4.15V28.41a.49.49,0,0,1,.29-.45.51.51,0,0,1,.53.06,16.21,16.21,0,0,1-10.27,28.76ZM96.19,29.51a15.21,15.21,0,1,0,20.87,0v6.41a5.16,5.16,0,0,1-5.15,5.15H101.34a5.16,5.16,0,0,1-5.15-5.15Z">
                                      </path>
                                      <circle class="advanced-stock-screener-3" cx="107.92" cy="95.06" r="2.93">
                                      </circle>
                                      <path class="advanced-stock-screener-4"
                                          d="M106.63,99.28A3.24,3.24,0,1,1,109.86,96,3.24,3.24,0,0,1,106.63,99.28Zm0-5.72A2.49,2.49,0,1,0,109.11,96,2.49,2.49,0,0,0,106.63,93.56Z">
                                      </path>
                                      <g class="advanced-stock-screener-5">
                                          <rect class="advanced-stock-screener-3" x="4.06" y="103.53" width="126.87"
                                              height="3.42"></rect>
                                      </g>
                                      <rect class="advanced-stock-screener-4" x="4.06" y="103.79" width="126.87"
                                          height="1"></rect>
                                  </g>
                              </g>
                          </svg></div>
                      <div class="">
                          <h5 class="fw-bold mt-lg-3">Advanced Stock Screener</h5>
                          <p class="m-0">For your daily research after the market closes.</p>
                      </div>
                  </div>
              </a></div>
          <div class="col-md-4 col-sm-6 p-3" id="dashboard_card_stock_market"><a href="">
                  <div class="figuretips-box d-flex align-items-center p-md-3 border-0 text-black d-md-block align-items-center cursor-pointer"
                      title="Live Market Screener">
                      <div class=""><svg width="62" class="me-3" title="Live Market Screener"
                              alt="Live Market Screener" viewBox="0 0 135 135">
                              <defs>
                                  <style>
                                      .live-marekt-screener-1 {
                                          fill: #fee9e8;
                                      }
    
                                      .live-marekt-screener-2 {
                                          fill: #fff;
                                      }
    
                                      .live-marekt-screener-3 {
                                          fill: #ff5952;
                                      }
    
                                      .live-marekt-screener-4 {
                                          fill: #111;
                                      }
                                  </style>
                              </defs>
                              <g id="Layer_2" data-name="Layer 2">
                                  <g id="Layer_1-2" data-name="Layer 1">
                                      <rect class="live-marekt-screener-1" width="135" height="135" rx="20"></rect>
                                      <circle class="live-marekt-screener-2" cx="68.25" cy="42.47" r="22.12"></circle>
                                      <path class="live-marekt-screener-3"
                                          d="M48,49.3l6.52-5.6a.94.94,0,0,1,1.48.35l1.08,2.56a.93.93,0,0,0,1.57.25L62.89,42a.94.94,0,0,1,1.62.37l.77,2.87A.94.94,0,0,0,67,45.5L72.05,38a.94.94,0,0,0-.25-1.31L69.3,35a.93.93,0,0,1,.13-1.63l8.3-3.87a1,1,0,0,1,1.34.8l.13,2.33a1,1,0,0,1-.38.81l-3.76,2.82-.22.22-10,14.61-.8-3.45a1.7,1.7,0,0,0-2.91-.74L57,51.69l-1.19-3a1.67,1.67,0,0,0-1.58-1.08,1.7,1.7,0,0,0-1.13.44l-4.4,4-.88-1.49A1,1,0,0,1,48,49.3Z">
                                      </path>
                                      <path class="live-marekt-screener-3"
                                          d="M96.51,44.11h-.09a.85.85,0,0,1-.77-.91,20.66,20.66,0,0,0,.13-2.37c0-12.71-13.68-25.92-26.85-25.92a25.51,25.51,0,0,0-5,.5.85.85,0,0,1-1-.63.82.82,0,0,1,.66-1,26.73,26.73,0,0,1,5.37-.55c15,0,28.56,12.14,28.56,27.58a23.74,23.74,0,0,1-.13,2.54A.85.85,0,0,1,96.51,44.11Z">
                                      </path>
                                      <path class="live-marekt-screener-4"
                                          d="M68.25,65.09A22.62,22.62,0,1,1,90.86,42.47,22.64,22.64,0,0,1,68.25,65.09Zm0-44.23A21.62,21.62,0,1,0,89.86,42.47,21.64,21.64,0,0,0,68.25,20.86Z">
                                      </path>
                                      <rect class="live-marekt-screener-4" x="64.5" y="70.66" width="7.49"
                                          height="9.34" rx="1"></rect>
                                      <rect class="live-marekt-screener-4" x="66.45" y="64.59" width="3.6"
                                          height="8.15"></rect>
                                      <polygon class="live-marekt-screener-4"
                                          points="64.57 53.73 62.76 46.46 56.77 53.47 54.46 47.73 48.69 52.89 48.02 52.14 54.85 46.04 57.08 51.56 63.26 44.34 65 51.3 74.9 36.58 75.73 37.13 64.57 53.73">
                                      </polygon>
                                      <path class="live-marekt-screener-4"
                                          d="M79.08,39.37a.86.86,0,0,1-.41-.1l-7.21-4a.86.86,0,0,1-.45-.78.83.83,0,0,1,.5-.75l6.3-2.92a.86.86,0,0,1,1.21.67l.91,6.88a.82.82,0,0,1-.36.82A.88.88,0,0,1,79.08,39.37Zm-6.9-4.81,6.73,3.7-.86-6.42Z">
                                      </path>
                                      <path class="live-marekt-screener-4"
                                          d="M95.29,45.77h-.05a.5.5,0,0,1-.45-.55c.09-.9.14-1.82.14-2.74A26.7,26.7,0,0,0,62.65,16.38a.5.5,0,1,1-.21-1,28.23,28.23,0,0,1,5.81-.61A27.71,27.71,0,0,1,95.93,42.47c0,1-.05,1.91-.14,2.85A.52.52,0,0,1,95.29,45.77Z">
                                      </path>
                                      <path class="live-marekt-screener-2"
                                          d="M81.09,88.19a12,12,0,0,1-3.52,8.47v0a12,12,0,0,1-16.93,0v0a12,12,0,1,1,20.45-8.47Z">
                                      </path>
                                      <path class="live-marekt-screener-3"
                                          d="M77.77,79A13,13,0,1,0,59.45,97.34v0a12.94,12.94,0,0,0,18.32,0v0a12.94,12.94,0,0,0,0-18.32Zm-3.7,14.63h0a7.73,7.73,0,0,1-10.92,0h0a7.73,7.73,0,1,1,10.92,0Z">
                                      </path>
                                      <path class="live-marekt-screener-3"
                                          d="M101.44,88.19a29.55,29.55,0,0,1-8.69,21L88,104.48v0a23,23,0,0,0,0-32.54l4.72-4.7A29.54,29.54,0,0,1,101.44,88.19Z">
                                      </path>
                                      <path class="live-marekt-screener-3"
                                          d="M43.44,88.19a23,23,0,0,0,6.74,16.27v0l-4.71,4.69a29.63,29.63,0,0,1,0-41.95l4.71,4.7A22.93,22.93,0,0,0,43.44,88.19Z">
                                      </path>
                                      <path class="live-marekt-screener-3"
                                          d="M113.34,88.19a47.29,47.29,0,0,1-13.89,33.56l-4.62-4.62a40.92,40.92,0,0,0,0-57.86l4.62-4.64A47.31,47.31,0,0,1,113.34,88.19Z">
                                      </path>
                                      <path class="live-marekt-screener-3"
                                          d="M25,88.19a40.8,40.8,0,0,0,12,28.94l-4.62,4.62a47.46,47.46,0,0,1,0-67.12L37,59.27A40.73,40.73,0,0,0,25,88.19Z">
                                      </path>
                                      <path class="live-marekt-screener-4"
                                          d="M69.11,77.21A11,11,0,0,1,76.87,96l-.09.11a11,11,0,0,1-15.34,0l-.1-.11a11,11,0,0,1,7.77-18.74m0-1a12,12,0,0,0-8.47,20.45v0a12,12,0,0,0,16.93,0v0a12,12,0,0,0-8.46-20.45Z">
                                      </path>
                                      <path class="live-marekt-screener-4"
                                          d="M90.09,109.67a.46.46,0,0,1-.35-.14L85,104.83a.5.5,0,0,1-.14-.35.53.53,0,0,1,.14-.37,22.5,22.5,0,0,0,0-31.84.51.51,0,0,1,0-.7l4.72-4.7a.48.48,0,0,1,.7,0,30.15,30.15,0,0,1,0,42.66A.47.47,0,0,1,90.09,109.67Zm-4-5.21,4,4a29.17,29.17,0,0,0,0-40.53l-4,4a23.5,23.5,0,0,1,0,32.54Z">
                                      </path>
                                      <path class="live-marekt-screener-4"
                                          d="M48.12,109.67a.49.49,0,0,1-.35-.14,30.15,30.15,0,0,1,0-42.66.5.5,0,0,1,.71,0l4.71,4.7a.51.51,0,0,1,0,.7,22.5,22.5,0,0,0,0,31.84.5.5,0,0,1,.14.35.55.55,0,0,1-.14.37l-4.71,4.7A.5.5,0,0,1,48.12,109.67Zm0-41.74a29.14,29.14,0,0,0,0,40.53l4-4a23.5,23.5,0,0,1,0-32.54Z">
                                      </path>
                                      <path class="live-marekt-screener-4"
                                          d="M102.66,122.25a.49.49,0,0,1-.35-.15l-4.62-4.62a.5.5,0,0,1,0-.71,40.4,40.4,0,0,0,0-57.15.48.48,0,0,1,0-.7l4.62-4.64a.51.51,0,0,1,.35-.15h0a.55.55,0,0,1,.36.15,48,48,0,0,1,0,67.82A.51.51,0,0,1,102.66,122.25Zm-3.91-5.12,3.91,3.91a47,47,0,0,0,0-65.7l-3.91,3.93a41.41,41.41,0,0,1,0,57.86Z">
                                      </path>
                                      <path class="live-marekt-screener-4"
                                          d="M35.55,122.25a.51.51,0,0,1-.36-.15,48,48,0,0,1,0-67.82.55.55,0,0,1,.36-.15h0a.51.51,0,0,1,.35.15l4.62,4.64a.48.48,0,0,1,0,.7,40.43,40.43,0,0,0,0,57.15.49.49,0,0,1,.15.36.47.47,0,0,1-.15.35L35.9,122.1A.49.49,0,0,1,35.55,122.25Zm0-66.91a47,47,0,0,0,0,65.7l3.91-3.91a41.44,41.44,0,0,1,0-57.86Z">
                                      </path>
                                  </g>
                              </g>
                          </svg></div>
                      <div>
                          <h5 class="fw-bold mt-lg-3">Live Market Screener</h5>
                          <p class="m-0">For Stock Signals during Market hours</p>
                      </div>
                  </div>
              </a></div>
          <div class="col-md-4 col-sm-6 p-3"  id="dashboard_card_stock_market"><a href="{% url 'stock_analysis' %}">
                  <div class="figuretips-box d-flex align-items-center p-md-3 border-0 text-black d-md-block align-items-center cursor-pointer"
                      title="Stocks Analysis">
                      <div class=""><svg class="me-3" title="Stocks Analysis" alt="Stocks Analysis" width="62"
                              viewBox="0 0 135 135">
                              <defs>
                                  <style>
                                      .stocks-analysis-1 {
                                          fill: #fff6e4;
                                      }
    
                                      .stocks-analysis-2 {
                                          fill: #ffc145;
                                      }
    
                                      .stocks-analysis-3 {
                                          fill: #222;
                                      }
    
                                      .stocks-analysis-4 {
                                          fill: #fff;
                                      }
    
                                      .stocks-analysis-5 {
                                          fill: #111;
                                      }
                                  </style>
                              </defs>
                              <g id="Layer_2" data-name="Layer 2">
                                  <g id="Layer_1-2" data-name="Layer 1">
                                      <rect class="stocks-analysis-1" width="135" height="135" rx="20"></rect>
                                      <path class="stocks-analysis-2"
                                          d="M118.13,95.09a18,18,0,0,0-11.59-22.16l-6,17Z"></path>
                                      <path class="stocks-analysis-2"
                                          d="M93.33,113.11a18,18,0,0,0,22.46-11L96.1,97l-2.77,2.88Z"></path>
                                      <path class="stocks-analysis-3"
                                          d="M122.86,95.59a.34.34,0,0,1-.14,0l-20.27-5.92a.5.5,0,0,1-.3-.25.47.47,0,0,1,0-.4L109,69.41a.5.5,0,0,1,.63-.31,21.14,21.14,0,0,1,13.68,26.13A.5.5,0,0,1,122.86,95.59Zm-19.62-6.75,19.28,5.63a20.15,20.15,0,0,0-12.71-24.26Z">
                                      </path>
                                      <path class="stocks-analysis-3"
                                          d="M97,116.6A24.29,24.29,0,0,1,78.13,77a24.44,24.44,0,0,1,26.46-7.83.51.51,0,0,1,.29.25.5.5,0,0,1,0,.38L97.67,92,120,98.48a.5.5,0,0,1,.34.61l-.05.16a24,24,0,0,1-4.39,8.33A24.27,24.27,0,0,1,97,116.6ZM97.11,69A23.28,23.28,0,1,0,119.27,99.3L96.89,92.79a.5.5,0,0,1-.3-.25.53.53,0,0,1,0-.39L103.8,70A23.27,23.27,0,0,0,97.11,69Z">
                                      </path>
                                      <rect class="stocks-analysis-3" x="74.6" y="97.34" width="23.8" height="1"
                                          transform="translate(-35.56 51.4) rotate(-27.69)"></rect>
                                      <path class="stocks-analysis-4"
                                          d="M32.54,25.84H19.43A8.15,8.15,0,0,0,11.28,34V111.3a8.15,8.15,0,0,0,8.15,8.15H82.64a8.15,8.15,0,0,0,8.15-8.15V34a8.15,8.15,0,0,0-8.15-8.15H69.36">
                                      </path>
                                      <path class="stocks-analysis-3"
                                          d="M82.64,120H19.43a8.66,8.66,0,0,1-8.65-8.65V34a8.66,8.66,0,0,1,8.65-8.65H32.54v1H19.43A7.66,7.66,0,0,0,11.78,34V111.3A7.66,7.66,0,0,0,19.43,119H82.64a7.66,7.66,0,0,0,7.65-7.65V34a7.66,7.66,0,0,0-7.65-7.65H69.36v-1H82.64A8.66,8.66,0,0,1,91.29,34V111.3A8.66,8.66,0,0,1,82.64,120Z">
                                      </path>
                                      <path class="stocks-analysis-2"
                                          d="M24.35,27.17a12.48,12.48,0,0,0-7.87,11.35c-.18,6.68,0,61.86,0,66.7s-.76,12.63,6.86,12.63c-6.4-.6-10.48-.67-10.48-11.47V37S11.07,26.64,24.35,27.17Z">
                                      </path>
                                      <path class="stocks-analysis-2"
                                          d="M54.12,48.88a11.94,11.94,0,1,0-1.89,16.78A11.94,11.94,0,0,0,54.12,48.88Zm-4,14.18A8.62,8.62,0,1,1,51.53,51,8.62,8.62,0,0,1,50.16,63.06Z">
                                      </path>
                                      <path class="stocks-analysis-5"
                                          d="M44.8,66.82a10.5,10.5,0,1,1,6.53-2.29A10.48,10.48,0,0,1,44.8,66.82Zm0-20a9.43,9.43,0,0,0-5.91,2.06h0a9.5,9.5,0,0,0-1.51,13.35,9.5,9.5,0,1,0,7.42-15.41Z">
                                      </path>
                                      <rect class="stocks-analysis-5" x="28.79" y="62.97" width="3.39" height="9.5"
                                          rx="1" transform="translate(64.44 1.67) rotate(51.45)"></rect>
                                      <rect class="stocks-analysis-5" x="33.95" y="61.49" width="1.63" height="5.63"
                                          transform="translate(63.39 -2.96) rotate(51.45)"></rect>
                                      <path class="stocks-analysis-3"
                                          d="M80.75,110.49H21.32a.5.5,0,0,1-.5-.5V40a.5.5,0,0,1,.5-.5H80.75a.5.5,0,0,1,.5.5v70A.5.5,0,0,1,80.75,110.49Zm-58.93-1H80.25v-69H21.82Z">
                                      </path>
                                      <rect class="stocks-analysis-2" x="34.76" y="84.39" width="6.85" height="17.03">
                                      </rect>
                                      <rect class="stocks-analysis-2" x="50.44" y="69.57" width="6.85" height="31.85">
                                      </rect>
                                      <rect class="stocks-analysis-2" x="65.71" y="79.41" width="6.85" height="22.01">
                                      </rect>
                                      <path class="stocks-analysis-3"
                                          d="M74.71,102.56H27.36a.5.5,0,0,1,0-1H74.71a.5.5,0,0,1,0,1Z"></path>
                                      <path class="stocks-analysis-3"
                                          d="M39.89,102.56H30.74a.5.5,0,0,1-.5-.5V86.64a.5.5,0,0,1,.5-.5h9.15a.5.5,0,0,1,.5.5v15.42A.5.5,0,0,1,39.89,102.56Zm-8.65-1h8.15V87.14H31.24Z">
                                      </path>
                                      <path class="stocks-analysis-3"
                                          d="M55.61,102.56H46.46a.5.5,0,0,1-.5-.5V71.3a.51.51,0,0,1,.5-.5h9.15a.5.5,0,0,1,.5.5v30.76A.5.5,0,0,1,55.61,102.56Zm-8.65-1h8.15V71.8H47Z">
                                      </path>
                                      <rect class="stocks-analysis-2" x="32.91" y="15.55" width="36.62" height="11.26"
                                          rx="3.17"></rect>
                                      <path class="stocks-analysis-3"
                                          d="M70.28,102.56H61.14a.5.5,0,0,1-.5-.5V81.79a.5.5,0,0,1,.5-.5h9.14a.5.5,0,0,1,.5.5v20.27A.5.5,0,0,1,70.28,102.56Zm-8.64-1h8.14V82.29H61.64Z">
                                      </path>
                                      <path class="stocks-analysis-3"
                                          d="M65.48,31.47H36.6A4.56,4.56,0,0,1,32,26.92V21.81a4.56,4.56,0,0,1,4.56-4.56H65.48A4.56,4.56,0,0,1,70,21.81v5.11A4.55,4.55,0,0,1,65.48,31.47ZM36.6,18.25A3.57,3.57,0,0,0,33,21.81v5.11a3.56,3.56,0,0,0,3.56,3.55H65.48A3.55,3.55,0,0,0,69,26.92V21.81a3.56,3.56,0,0,0-3.55-3.56Z">
                                      </path>
                                  </g>
                              </g>
                          </svg></div>
                      <div>
                          <h5 class="fw-bold mt-lg-3">Stocks Analysis</h5>
                          <p class="m-0">Stock Research &amp; Technical (Regular Updates During Market Hours)</p>
                      </div>
                  </div>
              </a></div>
          <div class="col-md-4 col-sm-6 p-3"  id="dashboard_card_stock_market"><a href="{% url 'stock_option_chain' %}">
                  <div class="figuretips-box d-flex align-items-center p-md-3 border-0 text-black d-md-block align-items-center cursor-pointer"
                      title="Option Chain Analysis">
                      <div class=""><svg title="Option Chain Analysis" alt="Chain Analysis" class="me-3" width="62"
                              viewBox="0 0 135 135">
                              <defs>
                                  <style>
                                      .option-chain-analysis-1 {
                                          fill: #f7f1fd;
                                      }
    
                                      .option-chain-analysis-2 {
                                          fill: #fff;
                                      }
    
                                      .option-chain-analysis-3 {
                                          fill: #9023fd;
                                      }
    
                                      .option-chain-analysis-4 {
                                          fill: #111;
                                      }
    
                                      .option-chain-analysis-5 {
                                          fill: #222;
                                      }
                                  </style>
                              </defs>
                              <g id="Layer_2" data-name="Layer 2">
                                  <g id="Layer_1-2" data-name="Layer 1">
                                      <rect class="option-chain-analysis-1" width="135" height="135" rx="20"></rect>
                                      <path class="option-chain-analysis-2"
                                          d="M9.08,20.14V107s-.74,8,5.73,9.88c6.08.58,8.67.62,8.67.62l17,.25s52.3-.06,54.94-.25a8.81,8.81,0,0,0,8.21-8c.18-4.65-.25-5.8-2-5.8H94.24c0-2,.33-80.59,0-83.15s-.27-3.21-2.13-3.36-79.55.11-80.64.15S8.64,18.2,9.08,20.14Z">
                                      </path>
                                      <rect class="option-chain-analysis-3" x="89.11" y="17.41" width="3"
                                          height="87.22" rx="0.92"></rect>
                                      <circle class="option-chain-analysis-3" cx="55.27" cy="74.52" r="3.04"></circle>
                                      <circle class="option-chain-analysis-3" cx="84.5" cy="84.2" r="3.04"></circle>
                                      <circle class="option-chain-analysis-3" cx="55.77" cy="92.83" r="3.04"></circle>
                                      <path class="option-chain-analysis-3"
                                          d="M39.52,44S50,32.35,53.44,29.85s6.54-3.54,9.5-2C65.08,29,70.65,32.37,68.29,39c-2.09,5.83-12.66,14-14.67,15.64a10.1,10.1,0,0,1-13.31-.83,25.65,25.65,0,0,0-3.05-2.83c-.44-.17-1.4.78,0,2.83s5,6.33,9.45,6.44a12.6,12.6,0,0,0,9.86-3.78c2.38-2.37,13-13.29,13-13.29a12.83,12.83,0,0,0,2.12-9.32c-1-2.2-2.88-8.47-11.7-9.39-5.28.71-7.82,2.19-11.08,5.36s-9.35,9.42-9.35,9.42l-3,4.64Z">
                                      </path>
                                      <path class="option-chain-analysis-3"
                                          d="M49.22,60.2S38.76,71.84,35.31,74.34s-6.55,3.54-9.51,2c-2.14-1.11-7.7-4.51-5.35-11.09,2.09-5.83,12.66-14,14.68-15.64a10.09,10.09,0,0,1,13.3.83,25.65,25.65,0,0,0,3,2.83c.44.17,1.4-.78.05-2.83s-5-6.33-9.45-6.44a12.6,12.6,0,0,0-9.86,3.78c-2.38,2.37-13,13.29-13,13.29a12.83,12.83,0,0,0-2.12,9.32c1,2.2,2.88,8.47,11.7,9.39,5.28-.71,7.82-2.2,11.08-5.36S49.22,65,49.22,65l3-4.64Z">
                                      </path>
                                      <path class="option-chain-analysis-3"
                                          d="M125.24,93.63a17.94,17.94,0,0,0-11.6-22.16l-6,17Z"></path>
                                      <path class="option-chain-analysis-3"
                                          d="M97.2,103.26c1.54.41,6.51-.89,6.35.94-.24,2.71-.31,7-.31,7s4.32.38,10.21-6.22a19.75,19.75,0,0,0,3.36-5.37l-16.49-4.41-2.75,2.9Z">
                                      </path>
                                      <path class="option-chain-analysis-4"
                                          d="M47.81,60.69a12.41,12.41,0,0,1-12.07-9.4l1-.24a11.44,11.44,0,0,0,19.18,5.3L67.8,44.44A11.43,11.43,0,1,0,51.63,28.27L39.72,40.18A11.3,11.3,0,0,0,37,44.59L36,44.27a12.28,12.28,0,0,1,3-4.8L50.92,27.56A12.44,12.44,0,0,1,68.51,45.15L56.6,57.06A12.42,12.42,0,0,1,47.81,60.69Z">
                                      </path>
                                      <path class="option-chain-analysis-4"
                                          d="M48.35,54.25a6.71,6.71,0,0,1-4.76-2l.71-.71a5.73,5.73,0,0,0,8.09,0l11-11a5.72,5.72,0,1,0-8.09-8.09l-11,11a5.81,5.81,0,0,0-.87,1.12l-.86-.51a6.49,6.49,0,0,1,1-1.31l11-11a6.71,6.71,0,0,1,9.5,0,6.74,6.74,0,0,1,0,9.51l-11,11A6.69,6.69,0,0,1,48.35,54.25Z">
                                      </path>
                                      <path class="option-chain-analysis-4"
                                          d="M28.14,80.26A12.43,12.43,0,0,1,19.35,59L31.26,47.13A12.43,12.43,0,0,1,52,52.55l-1,.27a11.31,11.31,0,0,0-2.92-5,11.44,11.44,0,0,0-16.17,0L20.06,59.75a11.43,11.43,0,0,0,0,16.17,11.44,11.44,0,0,0,16.17,0L48.14,64a11.39,11.39,0,0,0,2.74-4.39l.94.32a12.23,12.23,0,0,1-3,4.78L36.94,76.63A12.42,12.42,0,0,1,28.14,80.26Z">
                                      </path>
                                      <path class="option-chain-analysis-4"
                                          d="M28.5,74.1a6.72,6.72,0,0,1-4.75-11.47l11-11a6.75,6.75,0,0,1,4.77-2h0a6.64,6.64,0,0,1,4.73,1.94l-.71.71a5.59,5.59,0,0,0-4.06-1.65,5.79,5.79,0,0,0-4.07,1.69l-11,11a5.71,5.71,0,0,0,0,8.09,5.71,5.71,0,0,0,8.09,0l11-11a6,6,0,0,0,.75-.92l.84.55a7,7,0,0,1-.88,1.08l-11,11A6.69,6.69,0,0,1,28.5,74.1Z">
                                      </path>
                                      <path class="option-chain-analysis-4"
                                          d="M94.24,118H18.1a9.52,9.52,0,0,1-9.51-9.52V19a2.13,2.13,0,0,1,2.13-2.13H92.61A2.13,2.13,0,0,1,94.74,19v84.73h-1V19a1.13,1.13,0,0,0-1.13-1.13H10.72A1.13,1.13,0,0,0,9.59,19v89.47A8.52,8.52,0,0,0,18.1,117H94.24Z">
                                      </path>
                                      <path class="option-chain-analysis-4"
                                          d="M94.91,118H18v-1a8.52,8.52,0,0,0,8.51-8.52v-5.24H102a2.13,2.13,0,0,1,2.13,2.13v3.4A9.24,9.24,0,0,1,94.91,118Zm-72.64-1H94.91a8.24,8.24,0,0,0,8.23-8.23v-3.4a1.12,1.12,0,0,0-1.13-1.13H27.54v4.24A9.54,9.54,0,0,1,22.27,117Z">
                                      </path>
                                      <path class="option-chain-analysis-4"
                                          d="M83.92,75h-23a.51.51,0,0,1-.5-.5.5.5,0,0,1,.5-.5h23a.5.5,0,0,1,.5.5A.5.5,0,0,1,83.92,75Z">
                                      </path>
                                      <path class="option-chain-analysis-4"
                                          d="M58.22,77.46a2.95,2.95,0,1,1,2.94-2.94A2.95,2.95,0,0,1,58.22,77.46Zm0-4.89a1.95,1.95,0,1,0,1.94,2A1.95,1.95,0,0,0,58.22,72.57Z">
                                      </path>
                                      <path class="option-chain-analysis-4"
                                          d="M79.61,84.7h-23a.5.5,0,0,1-.5-.5.5.5,0,0,1,.5-.5h23a.51.51,0,0,1,.5.5A.5.5,0,0,1,79.61,84.7Z">
                                      </path>
                                      <path class="option-chain-analysis-4"
                                          d="M82.05,87.15a2.95,2.95,0,1,1,3-3A2.95,2.95,0,0,1,82.05,87.15Zm0-4.89a1.95,1.95,0,1,0,2,1.94A1.94,1.94,0,0,0,82.05,82.26Z">
                                      </path>
                                      <path class="option-chain-analysis-4"
                                          d="M83.92,93.33h-23a.5.5,0,0,1-.5-.5.51.51,0,0,1,.5-.5h23a.5.5,0,0,1,.5.5A.5.5,0,0,1,83.92,93.33Z">
                                      </path>
                                      <path class="option-chain-analysis-4"
                                          d="M58.22,95.78a2.95,2.95,0,1,1,2.94-3A2.95,2.95,0,0,1,58.22,95.78Zm0-4.89a1.95,1.95,0,1,0,1.94,1.94A1.94,1.94,0,0,0,58.22,90.89Z">
                                      </path>
                                      <path class="option-chain-analysis-5"
                                          d="M121.87,95.75l-.14,0-17.59-5.14a.49.49,0,0,1-.31-.25.51.51,0,0,1,0-.4l6-17a.5.5,0,0,1,.63-.31,18.56,18.56,0,0,1,5.84,3.18,18.35,18.35,0,0,1,6.08,19.59A.5.5,0,0,1,121.87,95.75Zm-17-6,16.61,4.85a17.45,17.45,0,0,0-11-20.9Z">
                                      </path>
                                      <path class="option-chain-analysis-5"
                                          d="M102.47,113.77l-.14-1a20.19,20.19,0,0,0,16.34-13.84L99.31,93.31a.45.45,0,0,1-.3-.24.48.48,0,0,1,0-.39l6.26-19.16a20.07,20.07,0,0,0-10.87-.19l-.25-1a21.17,21.17,0,0,1,11.91.36.48.48,0,0,1,.29.25.5.5,0,0,1,0,.38L100.09,92.5l19.34,5.62a.51.51,0,0,1,.34.62l0,.14a21.16,21.16,0,0,1-17.26,14.89Z">
                                      </path>
                                      <rect class="option-chain-analysis-5" x="93.91" y="93.7" width="5.88" height="1"
                                          transform="translate(-32.68 55.79) rotate(-27.69)"></rect>
                                      <path class="option-chain-analysis-3"
                                          d="M99.31,115.32H25s.74-.21,1.61-1.71a5.79,5.79,0,0,0,.65-1.71h74.05a7,7,0,0,1-.76,2.09A2.83,2.83,0,0,1,99.31,115.32Z">
                                      </path>
                                  </g>
                              </g>
                          </svg></div>
                      <div>
                          <h5 class="fw-bold mt-lg-3">Option Chain Analysis</h5>
                          <p class="m-0">For your daily research after the market closes.</p>
                      </div>
                  </div>
              </a></div>
          <div class="col-md-4 col-sm-6 p-3"  id="dashboard_card_stock_market"><a href="{% url 'watch_list' %}">
                  <div class="figuretips-box d-flex align-items-center p-md-3 border-0 text-black d-md-block align-items-center cursor-pointer"
                      title="Watchlists &amp; Alerts">
                      <div class=""><svg width="62" class="me-3" title="Watchlists &amp; Alerts"
                              alt="Watchlists Alerts" viewBox="0 0 135 135">
                              <defs>
                                  <style>
                                      .watchlist-alert-1 {
                                          fill: #e7faff;
                                      }
    
                                      .watchlist-alert-2 {
                                          fill: #fff;
                                      }
    
                                      .watchlist-alert-3 {
                                          fill: #57dcff;
                                      }
                                  </style>
                              </defs>
                              <g id="Layer_2" data-name="Layer 2">
                                  <g id="Layer_1-2" data-name="Layer 1">
                                      <rect class="watchlist-alert-1" width="135" height="135" rx="20"></rect>
                                      <path class="watchlist-alert-2"
                                          d="M88.68,31.16,57.27,85.56a4.5,4.5,0,0,0,3.89,6.74H124a4.49,4.49,0,0,0,3.89-6.74L96.46,31.16A4.5,4.5,0,0,0,88.68,31.16Z">
                                      </path>
                                      <path class="watchlist-alert-3"
                                          d="M80,92.43h39.05a7.32,7.32,0,0,0,6.34-11L98.91,35.53a7.32,7.32,0,0,0-12.68,0L79.67,46.9V50s6.23-11.56,8.92-14.48,7.24-1.73,8.92,1,14.53,25.85,15,26.57,9.29,16.42,10.59,18.6a5.74,5.74,0,0,1-1.43,7.67c-1.92,1.27-11.51.53-18.85.67s-22.75,0-22.75,0v2.38">
                                      </path>
                                      <path
                                          d="M124,92.8H61.16a5,5,0,0,1-4.32-7.49l31.41-54.4a5,5,0,0,1,8.64,0l31.41,54.4A5,5,0,0,1,124,92.8ZM89.12,31.41,57.71,85.81a4,4,0,0,0,3.45,6H124a4,4,0,0,0,3.46-6L96,31.41a4,4,0,0,0-6.91,0Z">
                                      </path>
                                      <path class="watchlist-alert-3"
                                          d="M91.1,82a4.08,4.08,0,0,1,.31-1.58,3.57,3.57,0,0,1,.86-1.28A4.15,4.15,0,0,1,95.18,78a3.88,3.88,0,0,1,1.58.32,3.92,3.92,0,0,1,2.14,2.14A3.92,3.92,0,0,1,99.22,82a3.84,3.84,0,0,1-.32,1.6,4.21,4.21,0,0,1-.85,1.28,4.11,4.11,0,0,1-1.29.84,4.26,4.26,0,0,1-3.19,0,4,4,0,0,1-1.3-.84,3.75,3.75,0,0,1-.86-1.28A4,4,0,0,1,91.1,82ZM98.37,46.9V62.23A47,47,0,0,1,98.13,67c-.17,1.56-.38,3.22-.65,5H93c-.26-1.76-.48-3.42-.64-5a47,47,0,0,1-.24-4.79V46.9Z">
                                      </path>
                                      <path
                                          d="M92.59,86.55a4.69,4.69,0,0,1-1.8-.35,4.55,4.55,0,0,1-1.46-1,4.21,4.21,0,0,1-1-1.44A4.4,4.4,0,0,1,88,82a4.66,4.66,0,0,1,.35-1.77,4,4,0,0,1,1-1.45,4.65,4.65,0,0,1,5-1,4.71,4.71,0,0,1,1.44,1,4.53,4.53,0,0,1,1,1.45A4.48,4.48,0,0,1,97.13,82a4.32,4.32,0,0,1-.36,1.8,4.61,4.61,0,0,1-1,1.43,4.4,4.4,0,0,1-1.45,1A4.66,4.66,0,0,1,92.59,86.55Zm0-8.07a3.53,3.53,0,0,0-1.42.28,3.65,3.65,0,0,0-1.14.75,3.2,3.2,0,0,0-.75,1.12,3.76,3.76,0,0,0,0,2.8A3.25,3.25,0,0,0,90,84.54a3.43,3.43,0,0,0,1.14.73,3.79,3.79,0,0,0,2.81,0,3.42,3.42,0,0,0,1.12-.74,3.5,3.5,0,0,0,.75-1.12,3.4,3.4,0,0,0,.28-1.4,3.61,3.61,0,0,0-1-2.51A3.68,3.68,0,0,0,94,78.75,3.57,3.57,0,0,0,92.59,78.48Zm2.73-6H90l-.07-.43c-.27-1.77-.49-3.45-.65-5A48.12,48.12,0,0,1,89,62.23V46.4h7.25V62.23A45.32,45.32,0,0,1,96,67.07c-.16,1.59-.38,3.27-.64,5Zm-4.48-1h3.62c.24-1.57.43-3.09.58-4.53a46.14,46.14,0,0,0,.24-4.74V47.4H90V62.23A46.28,46.28,0,0,0,90.27,67C90.41,68.38,90.61,69.9,90.84,71.5Z">
                                      </path>
                                      <polygon class="watchlist-alert-2"
                                          points="80.03 113.8 43.28 76.68 6.52 113.8 6.52 25.8 80.03 25.8 80.03 113.8">
                                      </polygon>
                                      <path
                                          d="M6.52,114.3a.43.43,0,0,1-.19,0A.49.49,0,0,1,6,113.8v-88a.5.5,0,0,1,.5-.5H80a.5.5,0,0,1,.5.5v88a.49.49,0,0,1-.3.46.49.49,0,0,1-.55-.11L43.28,77.39,6.88,114.15A.51.51,0,0,1,6.52,114.3Zm.5-88v86.29l35.9-36.26a.51.51,0,0,1,.71,0l35.9,36.26V26.3Z">
                                      </path>
                                      <rect class="watchlist-alert-3" x="6.52" y="21.2" width="73.51" height="10.55">
                                      </rect>
                                      <path class="watchlist-alert-3"
                                          d="M21.05,53.16,18.89,54.3a1.05,1.05,0,0,1-1.53-1.12l.41-2.41a1.07,1.07,0,0,0-.3-.93l-1.76-1.71a1.06,1.06,0,0,1,.59-1.8L18.72,46a1.09,1.09,0,0,0,.8-.58l1.08-2.2a1.06,1.06,0,0,1,1.89,0l1.09,2.2a1.05,1.05,0,0,0,.79.58l2.42.35a1.05,1.05,0,0,1,.59,1.8l-1.75,1.71a1,1,0,0,0-.31.93l.42,2.41A1.06,1.06,0,0,1,24.2,54.3L22,53.16A1.08,1.08,0,0,0,21.05,53.16Z">
                                      </path>
                                      <path
                                          d="M80,36.58H6.52a.5.5,0,0,1-.5-.5V25.8a.5.5,0,0,1,.5-.5H80a.5.5,0,0,1,.5.5V36.08A.5.5,0,0,1,80,36.58Zm-73-1H79.53V26.3H7Z">
                                      </path>
                                      <path
                                          d="M16.32,54.06a1.56,1.56,0,0,1-1.53-1.82l.41-2.41a.57.57,0,0,0-.16-.5l-1.75-1.7A1.56,1.56,0,0,1,14.15,45l2.42-.35a.56.56,0,0,0,.42-.31l1.08-2.19a1.57,1.57,0,0,1,1.4-.87h0a1.57,1.57,0,0,1,1.4.87L22,44.31a.56.56,0,0,0,.42.31l2.42.35a1.56,1.56,0,0,1,.86,2.66l-1.75,1.7a.58.58,0,0,0-.16.5l.41,2.41a1.56,1.56,0,0,1-2.26,1.64l-2.16-1.14a.56.56,0,0,0-.52,0L17,53.88A1.51,1.51,0,0,1,16.32,54.06Zm3.15-2.38a1.62,1.62,0,0,1,.72.17L22.36,53A.55.55,0,0,0,23,53a.57.57,0,0,0,.22-.54L22.75,50a1.55,1.55,0,0,1,.45-1.37L25,46.91a.56.56,0,0,0-.31-.95l-2.42-.35a1.56,1.56,0,0,1-1.17-.85L20,42.56a.56.56,0,0,0-.5-.31h0a.56.56,0,0,0-.5.31l-1.08,2.2a1.56,1.56,0,0,1-1.17.85L14.3,46a.53.53,0,0,0-.45.38.53.53,0,0,0,.14.57l1.75,1.71A1.57,1.57,0,0,1,16.19,50l-.42,2.41A.57.57,0,0,0,16,53a.55.55,0,0,0,.59,0l2.17-1.14A1.62,1.62,0,0,1,19.47,51.68Z">
                                      </path>
                                      <path
                                          d="M72.18,43.12H55.3a.51.51,0,0,1-.5-.5.5.5,0,0,1,.5-.5H72.18a.5.5,0,0,1,.5.5A.5.5,0,0,1,72.18,43.12Z">
                                      </path>
                                      <rect class="watchlist-alert-3" x="52.71" y="45.08" width="21.35" height="4.89">
                                      </rect>
                                      <path
                                          d="M72.18,48.16H55.3a.51.51,0,0,1-.5-.5.5.5,0,0,1,.5-.5H72.18a.5.5,0,0,1,.5.5A.5.5,0,0,1,72.18,48.16Z">
                                      </path>
                                      <path
                                          d="M72.18,53.2H55.3a.51.51,0,0,1-.5-.5.5.5,0,0,1,.5-.5H72.18a.5.5,0,0,1,.5.5A.5.5,0,0,1,72.18,53.2Z">
                                      </path>
                                      <path class="watchlist-alert-3"
                                          d="M8.4,100.26,41.18,65.73a3.25,3.25,0,0,1,4.73,0L78.42,100v8.87L45.6,74.28a3.25,3.25,0,0,0-4.73,0L8.23,108.68Z">
                                      </path>
                                  </g>
                              </g>
                          </svg></div>
                      <div>
                          <h5 class="fw-bold mt-lg-3">Watchlists &amp; Alerts</h5>
                          <p class="m-0">Simplify following stock prices.</p>
                      </div>
                  </div>
              </a></div>
          <div class="col-md-4 col-sm-6 p-3"  id="dashboard_card_stock_market"><a href="">
                  <div class="figuretips-box d-flex align-items-center p-md-3 border-0 text-black d-md-block align-items-center cursor-pointer"
                      title="Live Analytics">
                      <div class=""><svg width="62" class="me-3" title="Live Analytics" alt="Live Analytics"
                              viewBox="0 0 135 135">
                              <defs>
                                  <style>
                                      .live-analytics-1 {
                                          fill: #f9fef7;
                                      }
    
                                      .live-analytics-2 {
                                          fill: #fff;
                                      }
    
                                      .live-analytics-3 {
                                          fill: #62e525;
                                      }
    
                                      .live-analytics-4 {
                                          fill: #111;
                                      }
                                  </style>
                              </defs>
                              <g id="Layer_2" data-name="Layer 2">
                                  <g id="Layer_1-2" data-name="Layer 1">
                                      <rect class="live-analytics-1" width="135" height="135" rx="20"></rect>
                                      <circle class="live-analytics-2" cx="67.61" cy="42.64" r="40.4"></circle>
                                      <rect class="live-analytics-3" x="65.01" y="97.55" width="11.28" height="35.22"
                                          rx="1.21"></rect>
                                      <path class="live-analytics-3"
                                          d="M93.21,11.71a.45.45,0,0,1-.31-.11A42.26,42.26,0,0,0,45,8.93a.51.51,0,0,1-.69-.16.5.5,0,0,1,.16-.69,43.26,43.26,0,0,1,49.09,2.74.5.5,0,0,1,.08.7A.49.49,0,0,1,93.21,11.71Z">
                                      </path>
                                      <path class="live-analytics-3"
                                          d="M95.91,42.63a25.16,25.16,0,0,1-7.42,17.89l-4-4h0a19.63,19.63,0,0,0,0-27.76l4-4A25.14,25.14,0,0,1,95.91,42.63Z">
                                      </path>
                                      <path class="live-analytics-3"
                                          d="M44.78,42.63a19.63,19.63,0,0,0,5.75,13.88h0l-4,4a25.26,25.26,0,0,1,0-35.77l4,4A19.61,19.61,0,0,0,44.78,42.63Z">
                                      </path>
                                      <path class="live-analytics-3"
                                          d="M111.06,42.63A40.33,40.33,0,0,1,99.21,71.25l-3.94-3.94a34.9,34.9,0,0,0,0-49.35l3.94-4A40.33,40.33,0,0,1,111.06,42.63Z">
                                      </path>
                                      <path class="live-analytics-3"
                                          d="M29.51,42.63A34.78,34.78,0,0,0,39.73,67.31l-3.94,3.94a40.49,40.49,0,0,1,0-57.24l3.94,4A34.76,34.76,0,0,0,29.51,42.63Z">
                                      </path>
                                      <path class="live-analytics-4"
                                          d="M67.61,33.41a9.21,9.21,0,0,1,6.51,15.73l-.08.1a9.2,9.2,0,0,1-12.86,0l-.09-.1a9.22,9.22,0,0,1,6.52-15.73m0-1a10.22,10.22,0,0,0-7.23,17.44h0a10.2,10.2,0,0,0,14.45,0h0a10.22,10.22,0,0,0-7.22-17.44Z">
                                      </path>
                                      <path class="live-analytics-4"
                                          d="M85.5,61a.47.47,0,0,1-.35-.14l-4-4a.51.51,0,0,1-.15-.35.58.58,0,0,1,.15-.37,19.12,19.12,0,0,0,0-27,.53.53,0,0,1-.15-.36.51.51,0,0,1,.15-.35l4-4a.51.51,0,0,1,.71,0,25.8,25.8,0,0,1,0,36.49A.5.5,0,0,1,85.5,61Zm-3.32-4.51,3.32,3.3a24.77,24.77,0,0,0,0-34.35l-3.31,3.3a20.13,20.13,0,0,1,0,27.75Z">
                                      </path>
                                      <path class="live-analytics-4"
                                          d="M49.71,61a.47.47,0,0,1-.35-.14,25.8,25.8,0,0,1,0-36.49.5.5,0,0,1,.7,0l4,4a.47.47,0,0,1,.15.35.49.49,0,0,1-.15.36,19.12,19.12,0,0,0,0,27,.51.51,0,0,1,0,.72l-4,4A.46.46,0,0,1,49.71,61Zm0-35.56a24.77,24.77,0,0,0,0,34.35L53,56.51a20.12,20.12,0,0,1,0-27.75Z">
                                      </path>
                                      <path class="live-analytics-4"
                                          d="M96.23,71.75a.49.49,0,0,1-.36-.15l-3.94-3.94a.51.51,0,0,1,0-.71,34.39,34.39,0,0,0,0-48.63.51.51,0,0,1,0-.71l3.94-3.95a.48.48,0,0,1,.36-.15h0a.47.47,0,0,1,.35.15,41,41,0,0,1,0,57.94A.47.47,0,0,1,96.23,71.75ZM93,67.31l3.23,3.23a40,40,0,0,0,0-55.82L93,18a35.41,35.41,0,0,1,0,49.34Z">
                                      </path>
                                      <path class="live-analytics-4"
                                          d="M39,71.75h0a.49.49,0,0,1-.36-.15,41,41,0,0,1,0-57.94.49.49,0,0,1,.36-.15h0a.47.47,0,0,1,.35.15l3.94,3.95a.5.5,0,0,1,0,.71,34.39,34.39,0,0,0,0,48.63.49.49,0,0,1,.15.36.47.47,0,0,1-.15.35L39.34,71.6A.47.47,0,0,1,39,71.75Zm0-57a40,40,0,0,0,0,55.82l3.23-3.23a35.41,35.41,0,0,1,0-49.34Z">
                                      </path>
                                      <path class="live-analytics-4"
                                          d="M66.69,83.35A37.31,37.31,0,0,1,46,77.12a.5.5,0,0,1,.55-.84,36.28,36.28,0,0,0,20.16,6.07H67a36.21,36.21,0,0,0,21.84-7.48.5.5,0,0,1,.6.8A37.25,37.25,0,0,1,67,83.35Z">
                                      </path>
                                      <path class="live-analytics-4"
                                          d="M62.14,131.69a1.51,1.51,0,0,1-1.5-1.49L60.36,97a1.5,1.5,0,0,1,1.49-1.52l10.54-.09a1.55,1.55,0,0,1,1.52,1.49l.28,33.18a1.51,1.51,0,0,1-.43,1.07,1.55,1.55,0,0,1-1.06.45l-10.54.09ZM61.86,96.5a.53.53,0,0,0-.36.15.52.52,0,0,0-.14.36l.28,33.18a.51.51,0,0,0,.5.5h0l10.54-.09a.53.53,0,0,0,.36-.15.52.52,0,0,0,.14-.36l-.28-33.18a.51.51,0,0,0-.5-.5h0Z">
                                      </path>
                                      <path class="live-analytics-4"
                                          d="M63.61,96.49l-.12-14.11,7-.06.11,14.11Zm.89-13.12.11,12.11,5,0-.11-12.11Z">
                                      </path>
                                      <circle class="live-analytics-3" cx="67.61" cy="42.64" r="4.55"></circle>
                                  </g>
                              </g>
                          </svg></div>
                      <div>
                          <h5 class="fw-bold mt-lg-3">Live Analytics</h5>
                          <p class="m-0">Technical Analysis dashboard for Nifty &amp; Bank Nifty.</p>
                      </div>
                  </div>
              </a></div>
      </div>
    
    </div>
    
  <div class="main_stocks_details my-4" style="box-shadow: rgba(0, 0, 0, 0.16) 0px 10px 36px 0px, rgba(0, 0, 0, 0.06) 0px 0px 0px 1px;
padding: 25px;">


    <h4 class="my-3">MARKET ACTION</h4>
    <div class="description_usage my-4 container">
      <div class="head_desc_usage">
        <div class="row border-bottom" style="    justify-content: center;">
          <div class="chart-header col-2 text-center" onclick="filterChart('topgainers')" data-btn-id="1"
            style="font-size: 21px;    width: fit-content;">
            Top Gainers
          </div>
          <div class="chart-header col-2 text-center" onclick="filterChart('toplosers')" data-btn-id="2"
            style="font-size: 21px;    width: fit-content;">
            Top Losers
          </div>

          <div class="chart-header col-2  text-center" onclick="filterChart('sameopenandlow')" data-btn-id="3"
            style="font-size: 21px;    width: fit-content;">
            sameOpenAndLow
          </div>

          <div class="chart-header col-2  text-center" onclick="filterChart('sameOpenAndHigh')" data-btn-id="4"
            style="font-size: 21px;    width: fit-content;">
            sameOpenAndHigh
          </div>

          <div class="chart-header col-2  text-center" onclick="filterChart('gapUp')" data-btn-id="4"
            style="font-size: 21px;    width: fit-content;">
            gapUp
          </div>

          <div class="chart-header col-2  text-center" onclick="filterChart('gapDown')" data-btn-id="4"
            style="font-size: 21px;     width: fit-content;">
            gapDown
          </div>



        </div>
        <div class="main_desc_usage mt-4" id="main_desc_usage"></div>
      </div>
      <div id="chartContainer " style=" overflow: auto;   height: fit-content;">
        <div class="topgainers" id="topgainers" style="width: 100%; height: 80%">
          <table class="table table-hover  ">
            <thead style="background: #f1f5fa;border-bottom: 1px solid black !important;" class="">

              <tr>
                <th scope="col">Chart</th>
                <th scope="col">Symbol</th>
                <th scope="col">Current Price</th>
                <th scope="col">Today Low</th>
                <th scope="col">Today High</th>
                <th scope="col">Change %</th>
                <th scope="col">Prev Close</th>
                <th scope="col">Volume</th>
                <th scope="col"></th>
              </tr>
            </thead>
            <tbody id="top_gainers_table"></tbody>
          </table>
        </div>
        <div class="toplosers" id="toplosers" style="width: 100%; height: 80%">
          <table class="table table-hover ">
            <thead style="background: #f1f5fa;border-bottom: 1px solid black !important;" class="">

              <tr>
                <th scope="col">Chart</th>
                <th scope="col">Symbol</th>
                <th scope="col">Current Price</th>
                <th scope="col">Today Low</th>
                <th scope="col">Today High</th>
                <th scope="col">Change %</th>
                <th scope="col">Prev Close</th>
                <th scope="col">Volume</th>
              </tr>
            </thead>
            <tbody id="top_losers_table"></tbody>
          </table>
        </div>

        <div class="sameopenandlow" id="sameopenandlow" style="width: 100%; height: 80%">
          <table class="table table-hover ">
            <thead style="background: #f1f5fa;border-bottom: 1px solid black !important;" class="">

              <tr>
                <th scope="col">Chart</th>
                <th scope="col">Symbol</th>
                <th scope="col">Current Price</th>
                <th scope="col">Today Low</th>
                <th scope="col">Today High</th>
                <th scope="col">Change %</th>
                <th scope="col">Prev Close</th>
                <th scope="col">Volume</th>
              </tr>
            </thead>
            <tbody id="same_open_and_low"></tbody>
          </table>
        </div>
        <div class="sameOpenAndHigh" id="sameOpenAndHigh" style="width: 100%; height: 80%">
          <table class="table table-hover ">
            <thead style="background: #f1f5fa;border-bottom: 1px solid black !important;" class="">

              <tr>
                <th scope="col">Chart</th>
                <th scope="col">Symbol</th>
                <th scope="col">Current Price</th>
                <th scope="col">Today Low</th>
                <th scope="col">Today High</th>
                <th scope="col">Change %</th>
                <th scope="col">Prev Close</th>
                <th scope="col">Volume</th>
              </tr>
            </thead>
            <tbody id="same_Open_And_High"></tbody>
          </table>
        </div>
        <div class="gapUp" id="gapUp" style="width: 100%; height: 80%">
          <table class="table table-hover ">
            <thead style="background: #f1f5fa;border-bottom: 1px solid black !important;" class="">

              <tr>
                <th scope="col">Chart</th>
                <th scope="col">Symbol</th>
                <th scope="col">Current Price</th>
                <th scope="col">Today Low</th>
                <th scope="col">Today High</th>
                <th scope="col">Change %</th>
                <th scope="col">Prev Close</th>
                <th scope="col">Volume</th>
              </tr>
            </thead>
            <tbody id="gap_Up"></tbody>
          </table>
        </div>
        <div class="gapDown" id="gapDown" style="width: 100%; height: 80%">
          <table class="table table-hover ">
            <thead style="background: #f1f5fa;border-bottom: 1px solid black !important;" class="">

              <tr>
                <th scope="col">Chart</th>
                <th scope="col">Symbol</th>
                <th scope="col">Current Price</th>
                <th scope="col">Today Low</th>
                <th scope="col">Today High</th>
                <th scope="col">Change %</th>
                <th scope="col">Prev Close</th>
                <th scope="col">Volume</th>
              </tr>
            </thead>
            <tbody id="gap_Down"></tbody>
          </table>
        </div>


      </div>
      <h5 class="text-primary d-flex justify-content-end">View more</h5>
      {% comment %} <div class="button_end_table d-flex justify-content-center gap-2 flex-wrap">
        <button class=" btn btn-primary">Get a Lifetime Free Demat Account</button>
        <button class=" btn btn-danger">Intraday & Options Tradings @ Zero Brockrage</button>
        <button class="btn btn-primary">Search Stocks</button>
      </div> {% endcomment %}
    </div>
  </div>
  <div class="main_future_tables my-4" style="box-shadow: rgba(0, 0, 0, 0.16) 0px 10px 36px 0px, rgba(0, 0, 0, 0.06) 0px 0px 0px 1px;
padding: 25px;">
    <h4 class="my-3"> FUTURE OPEN INTEREST SCANS </h4>

    <div class="main_future_open d-flex gap-4 container"
      style="    justify-content: center;
      overflow: auto;
      border-bottom: 1px solid lightgray;
      white-space: nowrap;">

      <div id="OI_gainer" onclick="future_filter('OI_gainer')"> OI Gainer</div>
      <div id="OI_loser" onclick="future_filter('OI_loser')">OI Loser</div>
      <div id="OI_volume_buzzers" onclick="future_filter('OI_volume_buzzers')">Volume Buzzers</div>
      <div id="OI_volume_1" onclick="future_filter('OI_volume_1')">Volume Buzzers 1 </div>
      <div id="OI_volume_2" onclick="future_filter('OI_volume_2')"> Volume Buzzers 2 </div>


    </div>


    <div id="OI_gainer_table" style="    display: block;
    overflow: auto;
">


      <table id="Oi_gainer_data" class="table  table-hover">
        <thead style="background: #f1f5fa;border-bottom: 1px solid black !important;" class="">

          <tr id="columnHeaders">
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>




    </div>
    <div id="OI_loser_table">

      <table id="Oi_loser_data_table_data_table" class="table  table-hover">
        <thead style="background: #f1f5fa;border-bottom: 1px solid black !important;" class="">

          <tr id="columnHeaders_loser">
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>



    </div>
    <div id="OI_volume_buzzers_table">
      <table id="volumeShockerTable" class="table  table-hover">
        <thead style="background: #f1f5fa;border-bottom: 1px solid black !important;" class="">

          <tr>

            <th>Company Name</th>

            <th>Volume</th>
            <th>Volume Percentage Change</th>
            <th>Exchange</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>
    <div id="OI_volume_1_table">
      <table id="OI_volume_1_table_data"></table>
    </div>

    <div id="OI_volume_2_table">
      <table id="OI_volume_2_table_data"></table>
    </div>



  </div>


  <div class="maket_52_week my-4"
    style="box-shadow: rgba(0, 0, 0, 0.16) 0px 10px 36px 0px, rgba(0, 0, 0, 0.06) 0px 0px 0px 1px;padding: 25px;">
    <h4 class="my-3">NEW 52 WEEK HIGH/LOW</h4>
    <style>
      #week_52_high,
      #week_52_low,
      #only_buyers,
      #only_sellers {
        cursor: pointer;
        transition: 0.3s;
        font-size: 21px;
      }

      .active_52_week {
        color: #011490;
        text-align: center;
        border-bottom: 2px solid #011490;
        font-size: 21px;
        font-weight: 600;
      }

      #security_select {
        display: flex;
        position: relative;
        gap: 1rem;
        white-space: nowrap;
        align-items: center;
        width: fit-content;

      }
    </style>

    <div class="main_future_open d-flex gap-4 container"
      style="    overflow: auto;
      white-space: nowrap;
      justify-content: center;
      border-bottom: 1px solid lightgray;">

      <div id="week_52_high" onclick="week_52filter('week_52_high')">52 Week High </div>
      <div id="week_52_low" onclick="week_52filter('week_52_low')">52 Week Low</div>
      <div id="only_buyers" onclick="week_52filter('only_buyers')">Only Buyers</div>
      <div id="only_sellers" onclick="week_52filter('only_sellers')">Only Sellers</div>



    </div>
    <div class="week_52_high">
      <div class="security_main d-flex justify-content-end mt-3">
        <div class="form-group" id="security_select">
          <label for="data-dropdown">Select Securities:</label>
          <select id="data-dropdown" class="form-select">
            <option value="dataLtpGreater20">Securities > 20</option>
            <option value="dataLtpLess20">Securities < 20</option>
          </select>
        </div>
      </div>

<div class="main_table_52 table-responsive">
      <table id="stock_table_52_high" class="mt-3 table table-hover">
        <thead style="background: #f1f5fa;border-bottom: 1px solid black !important;">
          <tr>
            <th>SYMBOL</th>
            <th>SECURITY</th>
            <th>NEW 52W/H
              PRICE</th>
            <th>PREV.
              HIGH</th>
            <th>PREV. HIGH
              DATE</th>
            <th>LTP</th>
            <th>PREV. CLOSE</th>
            <th>CHNG</th>
            <th>%CHNG</th>
          </tr>
        </thead>
        <tbody>
          <!-- Table rows will be populated dynamically using JavaScript -->
        </tbody>
      </table>
    </div>
    </div>
    <div class="week_52_low">



      <div class="security_main d-flex justify-content-end mt-3">
        <div class="form-group" id="security_select">
          <label for="data-dropdown-low">Select Securities:</label>
          <select id="data-dropdown-low" class="form-select">
            <option value="dataLtpGreater20">Securities > 20</option>
            <option value="dataLtpLess20">Securities < 20</option>
          </select>
        </div>
      </div>

      <table id="stock_table_52_low" class="mt-3 table table-hover">
        <thead style="background: #f1f5fa;border-bottom: 1px solid black !important;">
          <tr>
            <th>SYMBOL</th>
            <th>SECURITY</th>
            <th>NEW 52W/H
              PRICE</th>
            <th>PREV.
              HIGH</th>
            <th>PREV. HIGH
              DATE</th>
            <th>LTP</th>
            <th>PREV. CLOSE</th>
            <th>CHNG</th>
            <th>%CHNG</th>
          </tr>
        </thead>
        <tbody>
          <!-- Table rows will be populated dynamically using JavaScript -->
        </tbody>
      </table>

    </div>
    <div class="only_buyers">



      <div class="security_main d-flex justify-content-end mt-3">
        <div class="form-group d-flex" style="    align-items: center;
        gap: 1rem;">
          <label for="data-dropdown-upper">View: </label>
          <select id="data-dropdown-upper" class="form-select">
            <option value="AllSec">All</option>
            <option value="SecGtr20">Securities > 20</option>
            <option value="SecLwr20">Securities < 20</option>
          </select>
        </div>
      </div>


      <table id="stock_table_upper" class="table table-hover">
        <thead style="background: #f1f5fa;border-bottom: 1px solid black !important;">
          <th>Symbol</th>
          <th>Series</th>
          <th>LTP</th>
          <th>Change</th>
          <th>PChange</th>
          <th>PriceBand</th>
          <th>HighPrice</th>
          <th>LowPrice</th>
          <th>YearHigh</th>
          <th>YearLow</th>
          <th>TotalTradedVol</th>
          <th>Turnover</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>



    </div>
    <div class="only_sellers">

      <div class="only_sellers">
        <div class="security_main d-flex justify-content-end mt-3">
            <div class="form-group d-flex" style="    align-items: center;
            gap: 1rem;">
                <label for="data-dropdown-lower ">View:</label>
                <select id="data-dropdown-lower" class="form-select">
                    <option value="AllSec">All</option>
                    <option value="SecGtr20">Securities > 20</option>
                    <option value="SecLwr20">Securities < 20</option>
                </select>
            </div>
        </div>

        <table id="stock_table_lower" class="table table-hover">
            <thead style="background: #f1f5fa;border-bottom: 1px solid black !important;">
                <tr>
                    <th>Symbol</th>
                    <th>Series</th>
                    <th>LTP</th>
                    <th>Change</th>
                    <th>PChange</th>
                    <th>PriceBand</th>
                    <th>HighPrice</th>
                    <th>LowPrice</th>
                    <th>YearHigh</th>
                    <th>YearLow</th>
                    <th>TotalTradedVol</th>
                    <th>Turnover</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
    </div>

  <script>
    $(document).ready(function () {
      // Define the DataTable instance variable
      var dataTable = null;

      // Function to update the table data using AJAX
      function updateTable() {
        // Show the spinner
        $("#spinner").show();

        // Get the selected option from the dropdown
        var selectedOption = $("#data-dropdown").val();

        $.ajax({
          url: "/get_52_week_data",
          type: "GET",
          data: { option: selectedOption }, // Pass the selected option as a parameter
          dataType: "json",
          success: function (data) {
            // Hide the spinner
            $("#spinner").hide();

            // Clear the existing table rows and destroy the DataTable instance
            if (dataTable !== null) {
              dataTable.clear().destroy();
            }
            $("#stock_table_52_high tbody").empty();

            // Populate the table with the received data
            var stockData = data[selectedOption];

            for (var i = 0; i < stockData.length; i++) {
              var stock = stockData[i];
              var change_52_high = stock.change > 0 ? "text-success" : "text-danger"
              var change_52_high_percent = stock.change > 0 ? "text-success" : "text-danger"
              var row = "<tr>" +
                "<td>" + stock.symbol + "</td>" +
                "<td>" + stock.comapnyName + "</td>" +
                "<td>" + stock.new52WHL + "</td>" +
                "<td>" + stock.prev52WHL + "</td>" +
                "<td>" + stock.prevHLDate + "</td>" +
                "<td>" + stock.ltp + "</td>" +
                "<td >" + stock.prevClose + "</td>" +
                "<td class =" + change_52_high + ">" + stock.change + "</td>" +
                "<td class=" + change_52_high_percent + ">" + stock.pChange.toFixed(2) + "</td>" +
                "</tr>";
              $("#stock_table_52_high tbody").append(row);
            }

            // Initialize DataTable plugin after updating the table
            dataTable = $('#stock_table_52_high').DataTable({
              "pageLength": 10
            });
          },
          error: function () {
            console.log("Error occurred while fetching data.");
          }
        });
      }

      // Restore the selected option from local storage
      var selectedOption = localStorage.getItem("selectedOption");
      if (selectedOption) {
        $("#data-dropdown").val(selectedOption);
      }

      // Initial update of the table
      updateTable();

      // Event listener for dropdown change
      $("#data-dropdown").change(function () {
        // Save the selected option to local storage
        var selectedOption = $("#data-dropdown").val();
        localStorage.setItem("selectedOption", selectedOption);

        updateTable();
      });
    });
  </script>
  <script>
    $(document).ready(function () {
      // Function to update the table data using AJAX
      var dataTable_Low = null;
      function updateTable() {
        // Show the spinner
        $("#spinner").show();

        // Get the selected option from the dropdown
        var selectedOption_Low = $("#data-dropdown-low").val();

        $.ajax({
          url: "/get_52_week_low_data",
          type: "GET",
          data: { option: selectedOption_Low }, // Pass the selected option as a parameter
          dataType: "json",
          success: function (data) {
            // Hide the spinner
            $("#spinner").hide();
            if (dataTable_Low !== null) {
              dataTable_Low.clear().destroy();
            }
            // Clear the existing table rows
            $("#stock_table_52_low tbody").empty();

            // Populate the table with the received data
            var stockData = data[selectedOption_Low];

            for (var i = 0; i < stockData.length; i++) {
              var stock = stockData[i];
              var change_52_high = stock.change > 0 ? "text-success" : "text-danger"
              var change_52_high_percent = stock.change > 0 ? "text-success" : "text-danger"
              var row = "<tr>" +
                "<td>" + stock.symbol + "</td>" +
                "<td>" + stock.comapnyName + "</td>" +
                "<td>" + stock.new52WHL + "</td>" +
                "<td>" + stock.prev52WHL + "</td>" +
                "<td>" + stock.prevHLDate + "</td>" +
                "<td>" + stock.ltp + "</td>" +
                "<td>" + stock.prevClose + "</td>" +
                "<td class =" + change_52_high + ">" + stock.change + "</td>" +
                "<td class=" + change_52_high_percent + ">" + stock.pChange.toFixed(2) + "</td>" +
                "</tr>";
              $("#stock_table_52_low tbody").append(row);
            }
            dataTable_Low = $('#stock_table_52_low').DataTable({
              "pageLength": 10
            });
          },
          error: function () {
            console.log("Error occurred while fetching data.");
          }
        });
      }

      // Restore the selected option from local storage
      var selectedOption_Low = localStorage.getItem("selectedOption_Low");

      if (selectedOption_Low) {
        $("#data-dropdown-low").val(selectedOption_Low);
      }

      // Initial update of the table
      updateTable();

      // Periodically update the table data every 5 seconds


      // Event listener for dropdown change
      $("#data-dropdown-low").change(function () {
        // Save the selected option to local storage
        var selectedOption_Low = $("#data-dropdown-low").val();
        localStorage.setItem("selectedOption_Low", selectedOption_Low);

        updateTable();
      });
    });
  </script>
  <script>
    $(document).ready(function () {
      // Function to update the table data using AJAX
      var dataTable_upper = null;
      function updateTable(selectedOption_Upper) {
        // Show the spinner
        $("#spinner").show();

        $.ajax({
          url: "/only_buyers",
          type: "GET",
          data: { option: selectedOption_Upper }, // Pass the selected option as a parameter
          dataType: "json",
          success: function (data) {
            // console.log(data["upper"][selectedOption_Upper]["data"]);
            // Hide the spinner
            $("#spinner").hide();
            if (dataTable_upper !== null) {
              dataTable_upper.clear().destroy();
            }
            // Clear the existing table rows
            $("#stock_table_upper tbody").empty();

            // Populate the table with the received data
            var stockData = data["upper"][selectedOption_Upper]["data"];

            for (var i = 0; i < stockData.length; i++) {
              var stock = stockData[i];
              var row = "<tr>" +
                "<td>" + stock.symbol + "</td>" +
                "<td>" + stock.series + "</td>" +
                "<td>" + stock.ltp + "</td>" +
                "<td>" + stock.change + "</td>" +
                "<td>" + stock.pChange + "</td>" +
                "<td>" + stock.priceBand + "</td>" +
                "<td>" + stock.highPrice + "</td>" +
                "<td>" + stock.lowPrice + "</td>" +
                "<td>" + stock.yearHigh + "</td>" +
                "<td>" + stock.yearLow + "</td>" +
                "<td>" + stock.totalTradedVol + "</td>" +
                "<td>" + stock.turnover + "</td>" +
                "</tr>";
              $("#stock_table_upper tbody").append(row);
            }
            dataTable_upper = $('#stock_table_upper').DataTable({
              "pageLength": 10
            });
          },
          error: function () {
            console.log("Error occurred while fetching data.");
          }
        });
      }

      // Function to save the dropdown selection to local storage
      function saveSelection() {
        var selectedOption_Upper = $("#data-dropdown-upper").val();
        localStorage.setItem("selectedOption_Upper", selectedOption_Upper);
      }

      // Initial update of the table
      var selectedOption_Upper = localStorage.getItem("selectedOption_Upper") || "AllSec";
      $("#data-dropdown-upper").val(selectedOption_Upper);
      updateTable(selectedOption_Upper);

      // Event listener for dropdown change
      $("#data-dropdown-upper").change(function () {
        var selectedOption_Upper = $(this).val();
        updateTable(selectedOption_Upper);
        saveSelection();
      });
    });
  </script>


<script>
  $(document).ready(function () {
      // Function to update the table data using AJAX
      function updateTable(selectedOption_lower) {
          // Show the spinner
          $("#spinner").show();

          $.ajax({
              url: "/only_buyers",
              type: "GET",
              data: { option: selectedOption_lower }, // Pass the selected option as a parameter
              dataType: "json",
              success: function (data) {
                  console.log(data["lower"][selectedOption_lower]["data"]);
                  // Hide the spinner
                  $("#spinner").hide();

                  // Clear the existing table rows
                  var table = $("#stock_table_lower").DataTable();
                  table.clear().draw();

                  // Populate the table with the received data
                  var stockData = data["lower"][selectedOption_lower]["data"];

                  for (var i = 0; i < stockData.length; i++) {
                      var stock = stockData[i];
                      table.row.add([
                          stock.symbol,
                          stock.series,
                          stock.ltp,
                          stock.change,
                          stock.pChange,
                          stock.priceBand,
                          stock.highPrice,
                          stock.lowPrice,
                          stock.yearHigh,
                          stock.yearLow,
                          stock.totalTradedVol,
                          stock.turnover
                      ]).draw(false);
                  }
              },
              error: function () {
                  console.log("Error occurred while fetching data.");
              }
          });
      }

      // Function to save the dropdown selection to local storage
      function saveSelection() {
          var selectedOption_lower = $("#data-dropdown-lower").val();
          localStorage.setItem("selectedOption_lower", selectedOption_lower);
      }

      // Initial update of the table
      var selectedOption_lower = localStorage.getItem("selectedOption_lower") || "AllSec";
      $("#data-dropdown-lower").val(selectedOption_lower);

      $("#stock_table_lower").DataTable({
          responsive: true
      });

      updateTable(selectedOption_lower);

      // Event listener for dropdown change
      $("#data-dropdown-lower").change(function () {
          var selectedOption_lower = $(this).val();
          updateTable(selectedOption_lower);
          saveSelection();
      });
  });
</script>





  <script>
    $(document).ready(function () {
      $(".week_52_high").show();
      $(".week_52_low").hide();
      $(".only_buyers").hide();
      $(".only_sellers").hide();
      $("#week_52_high").addClass("active_52_week")
      $("#week_52_low").removeClass("active_52_week")
      $("#only_buyers").removeClass("active_52_week")
      $("#only_sellers").removeClass("active_52_week")
    });

    function week_52filter(week_args) {
      if (week_args == "week_52_high") {
        $(".week_52_high").show();
        $(".week_52_low").hide();
        $(".only_buyers").hide();
        $(".only_sellers").hide();

        $("#week_52_high").addClass("active_52_week")
        $("#week_52_low").removeClass("active_52_week")
        $("#only_buyers").removeClass("active_52_week")
        $("#only_sellers").removeClass("active_52_week")
      } else if (week_args == "week_52_low") {
        $(".week_52_high").hide();
        $(".week_52_low").show();
        $(".only_buyers").hide();
        $(".only_sellers").hide();
        $("#week_52_high").removeClass("active_52_week")
        $("#week_52_low").addClass("active_52_week")
        $("#only_buyers").removeClass("active_52_week")
        $("#only_sellers").removeClass("active_52_week")
      } else if (week_args == "only_buyers") {
        $(".week_52_high").hide();
        $(".week_52_low").hide();
        $(".only_buyers").show();
        $(".only_sellers").hide();
        $("#week_52_high").removeClass("active_52_week")
        $("#week_52_low").removeClass("active_52_week")
        $("#only_buyers").addClass("active_52_week")
        $("#only_sellers").removeClass("active_52_week")
      } else if (week_args == "only_sellers") {
        $(".week_52_high").hide();
        $(".week_52_low").hide();
        $(".only_buyers").hide();
        $(".only_sellers").show();
        $("#week_52_high").removeClass("active_52_week")
        $("#week_52_low").removeClass("active_52_week")
        $("#only_buyers").removeClass("active_52_week")
        $("#only_sellers").addClass("active_52_week")
      }
    }
  </script>



</div>



<section class="ban_list_main" id="ban-lists" style="box-shadow: rgba(0, 0, 0, 0.16) 0px 10px 36px 0px, rgba(0, 0, 0, 0.06) 0px 0px 0px 1px;
  padding: 25px;">
  <h4 class="my-3">BAN LIST </h4>
  <div class="main_ban" style="    display: flex;
    justify-content: center; 
    gap: 2rem;
    ">
    <div class="ban_security">
      <h5>Securities In Ban </h5>
      <table class="table  table-hover " id="securities_ban_table">
        <thead style="background: #f1f5fa;border-bottom: 1px solid black !important;" class="">

          <tr>
            <th>SYMBOL</th>
            <th>PREVIOUS MWPL %</th>
            <th>CURRENT MWPL %</th>
            <!-- Add more columns as needed -->
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
    <div class="ban_entry">
      <h5>Possible Entrants </h5>
      <table class="table  table-hover " id="possible_entrants_table">
        <thead style="background: #f1f5fa;border-bottom: 1px solid black !important;" class="">

          <tr>
            <th>SYMBOL</th>
            <th>PREVIOUS MWPL %</th>
            <th>CURRENT MWPL %</th>
            <!-- Add more columns as needed -->
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
    <div class="ban_exits">
      <h5>Possible Exits </h5>
      <table class="table  table-hover " id="possible_exits_table">
        <thead style="background: #f1f5fa;border-bottom: 1px solid black !important;" class="">

          <tr>
            <th>SYMBOL</th>
            <th>PREVIOUS MWPL %</th>
            <th>CURRENT MWPL %</th>
            <!-- Add more columns as needed -->
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
</section>



<!-- <h4 class="my-3">IPO List </h4>
<div class="ipo container" style="box-shadow: rgba(0, 0, 0, 0.16) 0px 10px 36px 0px, rgba(0, 0, 0, 0.06) 0px 0px 0px 1px;
padding: 25px;">

  <div class="description_usage my-4">
    <div class="head_desc_usage">
      <div class="row border-bottom">
        <div class="chart-header col-4" onclick="filter_ipoIpo('r_list')" id="r_btn" style="font-size: 21px">
          Recent List
        </div>
        <div class="chart-header col-4" onclick="filter_ipoIpo('a_list')" id="a_btn" style="font-size: 21px">
          Active List
        </div>
        <div class="chart-header col-4" onclick="filter_ipoIpo('f_list')" id="f_btn" style="font-size: 21px">
          Forthcoming List
        </div>
      </div>
      <div class="main_desc_usage mt-4" id="main_desc_usage"></div>
    </div>
  </div>






  <div id="chartContainer container " style="">
    <div class="equity_sme" id="equity_sme" style="width: 100%; ">

      <div class="row border-bottom text-center">
        <div class="equity_btn col-6" id="equity_btn" onclick="filter_Equity_Sme('1st')" style="font-size: 21px">
          Equity
        </div>
        <div class="sme_btn col-6" id="sme_btn" onclick="filter_Equity_Sme('2nd')" style="font-size: 21px">
          SME
        </div>
    
      </div>
      <div class="equity_sme">

        <div class="equity" id="equity">
          <table id="equity-table" class="table">
            <thead>
                <tr>
                    <th>Symbol</th>
                    <th>Name</th>
                    <th>Instrument</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        </div>
        <div class="sme" id="sme">
          <table id="sme-table" class="table">
            <thead>
                <tr>
                    <th>Symbol</th>
                    <th>Name</th>
                    <th>Instrument</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        </div>
      </div>
    </div>
    <div class="r_list" id="r_list" style="width: 100%; ">
      
    
    </div>

    <div class="f_list" id="f_list" style="width: 100%; ">
      <div class="col-4" id="Bulleye">
        
      </div>
    </div>
  </div>




</div> -->
</div>














<div id="spinner"
  class="position-fixed top-50 start-50 translate-middle d-flex align-items-center justify-content-center">
  <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;"></div>
</div>
<script>
  var equity = document.getElementById("equity");
  var sme = document.getElementById("sme");

  equity.style.display = "block";

  sme.style.display = "none";
  var equity_btn = document.getElementById("equity_btn")

  equity_btn.classList.add("filter_child_active")
  function filter_Equity_Sme(filter_e_s) {
    if (filter_e_s == "1st") {
      equity.style.display = "block";

      sme.style.display = "none";
      equity_btn.classList.add("filter_child_active")
      sme_btn.classList.remove("filter_child_active")
    }
    else if (filter_e_s == "2nd") {
      equity.style.display = "none";

      sme.style.display = "block";
      sme_btn.classList.add("filter_child_active")
      equity_btn.classList.remove("filter_child_active")
    }
  }
</script>

<script>
  // Function to show or hide charts based on filter_ipo selection
  var equity_sme = document.getElementById("equity_sme");
  var r_list = document.getElementById("r_list");
  var f_list = document.getElementById("f_list");
  equity_sme.style.display = "block";
  document.getElementById("r_btn").classList.add("filter_ipo_active")
  r_list.style.display = "none";
  f_list.style.display = "none";
  function filter_ipoIpo(filter_ipo) {
    var equity_sme = document.getElementById("equity_sme");
    var r_list = document.getElementById("r_list");
    var f_list = document.getElementById("f_list");
    var chartContainer = document.getElementById("chartContainer");

    if (filter_ipo === "r_list") {
      equity_sme.style.display = "block";

      r_list.style.display = "none";
      f_list.style.display = "none";
      document.getElementById("r_btn").classList.add("filter_ipo_active")
      document.getElementById("a_btn").classList.remove("filter_ipo_active")
      document.getElementById("f_btn").classList.remove("filter_ipo_active")
    } else if (filter_ipo === "a_list") {
      equity_sme.style.display = "none";
      r_list.style.display = "block";
      f_list.style.display = "none";
      document.getElementById("a_btn").classList.add("filter_ipo_active")
      document.getElementById("r_btn").classList.remove("filter_ipo_active")
      document.getElementById("f_btn").classList.remove("filter_ipo_active")
    } else if (filter_ipo === "f_list") {
      equity_sme.style.display = "none";
      r_list.style.display = "none";
      f_list.style.display = "block";
      document.getElementById("f_btn").classList.add("filter_ipo_active")
      document.getElementById("a_btn").classList.remove("filter_ipo_active")
      document.getElementById("r_btn").classList.remove("filter_ipo_active")
    }
  }


</script>

<script>
  // Function to show or hide charts based on filter selection
  var topgainers = document.getElementById("topgainers");
  var toplosers = document.getElementById("toplosers");
  var sameopenandlow = document.getElementById("sameopenandlow");
  var sameOpenAndHigh = document.getElementById("sameOpenAndHigh");
  var gapUp = document.getElementById("gapUp");
  var gapDown = document.getElementById("gapDown");
  topgainers.style.display = "block";


  toplosers.style.display = "none";
  sameopenandlow.style.display = "none";
  sameOpenAndHigh.style.display = "none";
  gapUp.style.display = "none";
  gapDown.style.display = "none";
  function filterChart(filter) {

    var topgainers = document.getElementById("topgainers");
    var toplosers = document.getElementById("toplosers");
    var sameopenandlow = document.getElementById("sameopenandlow");
    var sameOpenAndHigh = document.getElementById("sameOpenAndHigh");
    var gapUp = document.getElementById("gapUp");
    var gapDown = document.getElementById("gapDown");
    var chartContainer = document.getElementById("chartContainer");

    if (filter === "topgainers") {
      topgainers.style.display = "block";


      toplosers.style.display = "none";
      sameopenandlow.style.display = "none";
      sameOpenAndHigh.style.display = "none";
      gapUp.style.display = "none";
      gapDown.style.display = "none";
    } else if (filter === "toplosers") {
      topgainers.style.display = "none";
      toplosers.style.display = "block";
      sameopenandlow.style.display = "none";
      sameOpenAndHigh.style.display = "none";
      gapUp.style.display = "none";
      gapDown.style.display = "none";
    } else if (filter === "sameopenandlow") {
      topgainers.style.display = "none";
      toplosers.style.display = "none";
      sameopenandlow.style.display = "block";
      sameOpenAndHigh.style.display = "none";
      gapUp.style.display = "none";
      gapDown.style.display = "none";
    } else if (filter == "sameOpenAndHigh") {
      topgainers.style.display = "none";
      toplosers.style.display = "none";
      sameopenandlow.style.display = "none";
      sameOpenAndHigh.style.display = "block";
      gapUp.style.display = "none";
      gapDown.style.display = "none";
    }
    else if (filter == "gapUp") {
      topgainers.style.display = "none";
      toplosers.style.display = "none";
      sameopenandlow.style.display = "none";
      sameOpenAndHigh.style.display = "none";
      gapUp.style.display = "block";
      gapDown.style.display = "none";
    }

    else if (filter == "gapDown") {
      topgainers.style.display = "none";
      toplosers.style.display = "none";
      sameopenandlow.style.display = "none";
      sameOpenAndHigh.style.display = "none";
      gapUp.style.display = "none";
      gapDown.style.display = "block";
    }



  }
  $(document).ready(function () {
    $("[data-btn-id]:first-child").addClass("desc_usage_active");
    // Filter button click event
    $("[data-btn-id]").click(function () {
      var btnId = $(this).attr("data-btn-id");
      filterResults(btnId);
      changeButtonColor($(this));
    });

    // Initial filtering (optional)
    filterResults(1);
    // Function to filter results
    function filterResults(btnId) {
      // Clear previous results
      // Filter elements based on btnId
    }

    // Function to change button color
    function changeButtonColor(button) {
      // Reset color of all buttons
      $("[data-btn-id]").removeClass("desc_usage_active");

      // Add color to the clicked button
      button.addClass("desc_usage_active");
    }
  });
</script>
<script>
  var OI_gainer_table = document.getElementById("OI_gainer_table")
  var OI_loser_table = document.getElementById("OI_loser_table")
  var OI_volume_buzzers_table = document.getElementById("OI_volume_buzzers_table")
  var OI_volume_1_table = document.getElementById("OI_volume_1_table")
  var OI_volume_2_table = document.getElementById("OI_volume_2_table")

  var OI_gainer = document.getElementById("OI_gainer")
  var OI_loser = document.getElementById("OI_loser")
  var OI_volume_buzzers = document.getElementById("OI_volume_buzzers")
  var OI_volume_1 = document.getElementById("OI_volume_1")
  var OI_volume_2 = document.getElementById("OI_volume_2")




  OI_gainer_table.style.display = "block"
  OI_loser_table.style.display = "none"
  OI_volume_buzzers_table.style.display = "none"
  OI_volume_1_table.style.display = "none"
  OI_volume_2_table.style.display = "none"
  OI_gainer.classList.add("future_active")


  function future_filter(future) {
    if (future == "OI_gainer") {
      OI_gainer_table.style.display = "block"
      OI_loser_table.style.display = "none"
      OI_volume_buzzers_table.style.display = "none"
      OI_volume_1_table.style.display = "none"
      OI_volume_2_table.style.display = "none"

      OI_gainer.classList.add("future_active")
      OI_loser.classList.remove("future_active")
      OI_volume_buzzers.classList.remove("future_active")
      OI_volume_1.classList.remove("future_active")
      OI_volume_2.classList.remove("future_active")

    } else if (future == "OI_loser") {
      OI_gainer_table.style.display = "none"
      OI_loser_table.style.display = "block"
      OI_volume_buzzers_table.style.display = "none"
      OI_volume_1_table.style.display = "none"
      OI_volume_2_table.style.display = "none"

      OI_loser.classList.add("future_active")
      OI_gainer.classList.remove("future_active")
      OI_volume_buzzers.classList.remove("future_active")
      OI_volume_1.classList.remove("future_active")
      OI_volume_2.classList.remove("future_active")

    }
    else if (future == "OI_volume_buzzers") {
      OI_gainer_table.style.display = "none"
      OI_loser_table.style.display = "none"
      OI_volume_buzzers_table.style.display = "block"
      OI_volume_1_table.style.display = "none"
      OI_volume_2_table.style.display = "none"

      OI_loser.classList.remove("future_active")
      OI_gainer.classList.remove("future_active")
      OI_volume_buzzers.classList.add("future_active")
      OI_volume_1.classList.remove("future_active")
      OI_volume_2.classList.remove("future_active")
    }
    else if (future == "OI_volume_1") {
      OI_gainer_table.style.display = "none"
      OI_loser_table.style.display = "none"
      OI_volume_buzzers_table.style.display = "none"
      OI_volume_1_table.style.display = "block"
      OI_volume_2_table.style.display = "none"

      OI_loser.classList.remove("future_active")
      OI_gainer.classList.remove("future_active")
      OI_volume_buzzers.classList.remove("future_active")
      OI_volume_1.classList.add("future_active")
      OI_volume_2.classList.remove("future_active")
    }

    else if (future == "OI_volume_2") {
      OI_gainer_table.style.display = "none"
      OI_loser_table.style.display = "none"
      OI_volume_buzzers_table.style.display = "none"
      OI_volume_1_table.style.display = "none"
      OI_volume_2_table.style.display = "block"

      OI_loser.classList.remove("future_active")
      OI_gainer.classList.remove("future_active")
      OI_volume_buzzers.classList.remove("future_active")
      OI_volume_1.classList.remove("future_active")
      OI_volume_2.classList.add("future_active")
    }
  }
</script>
<script>
  $(document).ready(function () {
    $.ajax({
      url: '/volume-shocker/',
      method: 'GET',
      success: function (data) {
        createTable(data);
      },
      error: function (error) {
        console.log(error);
      }
    });

    function createTable(data) {
      console.log(data);
      const tableBody = $('#volumeShockerTable tbody');

      // Clear any existing rows in the table body
      tableBody.empty();

      // Iterate over the data array using the map function
      var rows = data.map(function (item) {
        return '<tr>' +

          '<td>' + item.companyName + '</td>' +

          '<td>' + item.volume + '</td>' +
          '<td>' + item.volumePercentageChange.toFixed(2) + '%</td>' +
          '<td>' + item.exchange + '</td>' +
          '</tr>';
      });

      // Join the rows array and append it to the table body
      tableBody.append(rows.join(''));
      $('#volumeShockerTable').DataTable({
        "pageLength": 10
      });
    }
  });
</script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">

<script>
  $(document).ready(function () {
    $.ajax({
      url: 'oi_gainers',
      method: 'GET',
      success: function (data) {
        createTable(data);
      },
      error: function (error) {
        console.log(error);
      }
    });

    function createTable(data) {
      const tableBody = $('#Oi_gainer_data tbody');
      const tableHeaders = $('#columnHeaders');

      // Create table headers
      const columnHeaders = data.columns.map(function (column) {
        return '<th>' + column + '</th>';
      });
      tableHeaders.html(columnHeaders.join(''));

      // Create table rows
      const tableRows = data.data.map(function (row) {
        var date_change_percent = row[2] > 0 ? " text-success  " : "text-danger";
        var volume_contract_percent = row[4] > 0 ? " text-success  " : "text-danger";
        var oi_percent = row[4] > 0 ? " text-success  " : "text-danger";
        return '<tr>' +
          '<td>' + row[0] + '</td>' +  // name
          '<td>' + row[1] + '</td>' +  // price
          '<td class= ' + date_change_percent + '>' + row[2] + '%</td>' +  // Date Chang
          '<td>' + row[3] + '</td>' +  // Volume Contracts
          '<td class= ' + volume_contract_percent + '>' + row[4] + '%</td>' +  // % Volume Contracts
          // '<td style= " white-space: nowrap;">' + row[5] + '  Cr</td>' +  // TTV
          '<td>' + row[6] + '</td>' +  // OI
          '<td class= ' + oi_percent + '     style= " white-space: nowrap;">' + row[7] + ' %</td>' +  // %OI
          '<td>' + row[8] + '</td>' +  // Basis
          '<td>' + row[9] + '</td>' +  // COC
          '<td>' + row[10] + '</td>' + // Spot
          '<td>' + row[11] + '</td>' + // Build Up
          '</tr>';
      });
      tableBody.html(tableRows.join(''));

      // Initialize DataTable
      $('#Oi_gainer_data').DataTable({
        "pageLength": 10
      });

    }
  });
</script>


<script>
  $(document).ready(function () {
    $.ajax({
      url: 'oi_losers',
      method: 'GET',
      success: function (data) {
        createTable(data);
      },
      error: function (error) {
        console.log(error);
      }
    });

    function createTable(data) {
      const tableBody = $('#Oi_loser_data_table_data_table tbody');
      const tableHeaders = $('#columnHeaders_loser');

      // Create table headers
      const columnHeaders_loser = data.columns.map(function (column) {
        return '<th>' + column + '</th>';
      });
      tableHeaders.html(columnHeaders_loser.join(''));

      // Create table rows
      const tableRows = data.data.map(function (row) {
        var date_change_percent = row[2] > 0 ? " text-success  " : "text-danger";
        var volume_contract_percent = row[4] > 0 ? " text-success  " : "text-danger";
        var oi_percent = row[4] > 0 ? " text-success  " : "text-danger";
        return '<tr>' +
          '<td>' + row[0] + '</td>' +  // name
          '<td>' + row[1] + '</td>' +  // price
          '<td class= ' + date_change_percent + '>' + row[2] + '%</td>' +  // Date Chang
          '<td>' + row[3] + '</td>' +  // Volume Contracts
          '<td class= ' + volume_contract_percent + '>' + row[4] + '%</td>' +  // % Volume Contracts
          // '<td style= " white-space: nowrap;">' + row[5] + '  Cr</td>' +  // TTV
          '<td>' + row[6] + '</td>' +  // OI
          '<td class= ' + oi_percent + '     style= " white-space: nowrap;">' + row[7] + ' %</td>' +  // %OI
          '<td>' + row[8] + '</td>' +  // Basis
          '<td>' + row[9] + '</td>' +  // COC
          '<td>' + row[10] + '</td>' + // Spot
          '<td>' + row[11] + '</td>' + // Build Up
          '</tr>';
      });
      tableBody.html(tableRows.join(''));
      $('#Oi_loser_data_table_data_table').DataTable({
        "pageLength": 10
      });
    }
  });
  $(document).ready(function () {
    $('#OI_volume_1_table_data').DataTable({
      "pageLength": 10
    });
    $('#Oi_loser_data_table_data_table').DataTable({
      "pageLength": 10
    });
  })
</script>
{% endblock dashboard_body %}